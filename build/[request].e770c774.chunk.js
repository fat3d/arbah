/*! For license information please see [request].e770c774.chunk.js.LICENSE.txt */
(self.webpackChunkarbah_taiba=self.webpackChunkarbah_taiba||[]).push([[6750],{53711:(t,e,n)=>{"use strict";var r=n(95318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=r(n(53547)),i=n(39711),a=n(76583),s=r(n(63160)),u=r(n(42493)),c=function(){return o.default.createElement("div",null,o.default.createElement(i.Switch,null,o.default.createElement(i.Route,{path:"/plugins/".concat(s.default),component:u.default,exact:!0}),o.default.createElement(i.Route,{component:a.NotFound})))};e.default=c},42493:(t,e,n)=>{"use strict";var r=n(95318),o=n(50008);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(87757)),a=r(n(63038)),s=r(n(48926)),u=h(n(53547)),c=n(76583),l=r(n(63160)),f=h(n(42895)),d=n(97240);function p(t){if("function"!==typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(p=function(t){return t?n:e})(t)}function h(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==o(t)&&"function"!==typeof t)return{default:t};var n=p(e);if(n&&n.has(t))return n.get(t);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if("default"!==a&&Object.prototype.hasOwnProperty.call(t,a)){var s=i?Object.getOwnPropertyDescriptor(t,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=t[a]}return r.default=t,n&&n.set(t,r),r}function g(){return v.apply(this,arguments)}function v(){return(v=(0,s.default)(i.default.mark((function t(){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,c.request)("/".concat(l.default,"/er-data"));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}n(40457),n(53164);var y=function(){var t=(0,u.useState)(),e=(0,a.default)(t,2),n=e[0],r=e[1],o=(0,u.useState)(),c=(0,a.default)(o,2),l=c[0],p=c[1];return(0,u.useEffect)((function(){function t(){return(t=(0,s.default)(i.default.mark((function t(){var e,n,o,a;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,g();case 3:e=t.sent,n=(0,d.drawNodes)(e.data),o=n.engine,a=n.model,r(o),(0,d.autoLayout)(o,a),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),p(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[]),u.default.createElement("div",{style:{padding:"25px 30px"}},u.default.createElement("div",{className:"erc-header-title"},u.default.createElement("h1",null,"Entity Relationship Chart"),u.default.createElement("p",null,"Displays Entity Relationship Diagram of all Strapi models, fields and relations.")),l&&u.default.createElement("div",null,u.default.createElement("br",null),u.default.createElement("h2",null,l.toString()),u.default.createElement("textarea",{rows:10,cols:200,disabled:"disabled",style:{fontSize:10,fontFamily:"Courier"}},l.stack)),n&&u.default.createElement(f.DiagramWidget,{diagramEngine:n}))},m=(0,u.memo)(y);e.default=m},97240:(t,e,n)=>{"use strict";var r=n(95318),o=n(50008);Object.defineProperty(e,"__esModule",{value:!0}),e.autoLayout=function(t,e){var n=new i.default.graphlib.Graph({multigraph:!0});n.setGraph({rankdir:"RL",ranker:"longest-path",marginx:25,marginy:25}),n.setDefaultEdgeLabel((function(){return{}}));var r={};a.default.forEach(e.getNodes(),(function(t){n.setNode(t.getID(),{width:t.width,height:t.height})})),a.default.forEach(e.getLinks(),(function(t){t.getSourcePort()&&t.getTargetPort()&&(r[t.getID()]=!0,n.setEdge({v:t.getSourcePort().getNode().getID(),w:t.getTargetPort().getNode().getID(),name:t.getID()}))})),i.default.layout(n),n.nodes().forEach((function(t){var r=n.node(t);e.getNode(t).setPosition(r.x-r.width/2,r.y-r.height/2)})),t.repaintCanvas()},e.drawNodes=function(t){var e=new s.DiagramEngine;e.installDefaultFactories();var n=new s.DiagramModel,r=[],o={},i=[];return t.forEach((function(t,e){var n=new s.DefaultNodeModel(t.name,"rgb(0,126,255)"),a={};Object.keys(t.attributes).forEach((function(e){var r;if("createdBy"!==e&&"updatedBy"!==e){var s=t.attributes[e],u="relation"===s.type&&(null===s||void 0===s||null===(r=s.target)||void 0===r?void 0:r.substring(s.target.lastIndexOf(".")+1)),c=s.inversedBy;if(u&&o[u]&&o[u].ports[c]){var l=n.addInPort(e).link(o[u].ports[c]);i.push(l)}else a[e]=n.addOutPort(e)}})),n.setPosition(150*e,100),r.push(n),o[t.key]={node:n,ports:a}})),n.addAll.apply(n,r.concat(i)),e.setDiagramModel(n),{engine:e,model:n}};var i=r(n(70681)),a=r(n(96486)),s=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==o(t)&&"function"!==typeof t)return{default:t};var n=u(e);if(n&&n.has(t))return n.get(t);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if("default"!==a&&Object.prototype.hasOwnProperty.call(t,a)){var s=i?Object.getOwnPropertyDescriptor(t,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=t[a]}r.default=t,n&&n.set(t,r);return r}(n(42895));function u(t){if("function"!==typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(u=function(t){return t?n:e})(t)}},42895:(t,e,n)=>{"use strict";var r,o,i;t=n.nmd(t);var a,s=n(95318)(n(50008));window,a=function(t,e){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=45)}([function(e,n){e.exports=t},function(t,n){t.exports=e},function(t,e){t.exports={Always:1,Never:2,IfAtMostOneObstacle:3,OnlyWhenNoObstacles:4}},function(t,e,n){var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t};Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){function e(e,n){var r=t.call(this,n)||this;return r.className=e,r}return r(e,t),e.prototype.bem=function(t){return(this.props.baseClass||this.className)+t+" "},e.prototype.getClassName=function(){return(this.props.baseClass||this.className)+" "+(this.props.className?this.props.className+" ":"")},e.prototype.getProps=function(){return o({},this.props.extraProps||{},{className:this.getClassName()})},e}(n(1).Component);e.BaseWidget=i},function(t,e){function n(t){for(var e=[[t.x,t.y]];t.parent;)t=t.parent,e.push([t.x,t.y]);return e.reverse()}function r(t,e,n,r){var o,i,a,s,u,c,l=Math.abs,f=[];for(o=t<n?1:-1,i=e<r?1:-1,u=(a=l(n-t))-(s=l(r-e));f.push([t,e]),t!==n||e!==r;)(c=2*u)>-s&&(u-=s,t+=o),c<a&&(u+=a,e+=i);return f}e.backtrace=n,e.biBacktrace=function(t,e){var r=n(t),o=n(e);return r.concat(o.reverse())},e.pathLength=function(t){var e,n,r,o,i,a=0;for(e=1;e<t.length;++e)n=t[e-1],r=t[e],o=n[0]-r[0],i=n[1]-r[1],a+=Math.sqrt(o*o+i*i);return a},e.interpolate=r,e.expandPath=function(t){var e,n,o,i,a,s,u=[],c=t.length;if(c<2)return u;for(a=0;a<c-1;++a)for(e=t[a],n=t[a+1],i=(o=r(e[0],e[1],n[0],n[1])).length,s=0;s<i-1;++s)u.push(o[s]);return u.push(t[c-1]),u},e.smoothenPath=function(t,e){var n,o,i,a,s,u,c,l,f,d=e.length,p=e[0][0],h=e[0][1],g=e[d-1][0],v=e[d-1][1];for(i=[[n=p,o=h]],a=2;a<d;++a){for(c=r(n,o,(u=e[a])[0],u[1]),f=!1,s=1;s<c.length;++s)if(l=c[s],!t.isWalkableAt(l[0],l[1])){f=!0;break}f&&(lastValidCoord=e[a-1],i.push(lastValidCoord),n=lastValidCoord[0],o=lastValidCoord[1])}return i.push([g,v]),i},e.compressPath=function(t){if(t.length<3)return t;var e,n,r,o,i,a,s=[],u=t[0][0],c=t[0][1],l=t[1][0],f=t[1][1],d=l-u,p=f-c;for(d/=i=Math.sqrt(d*d+p*p),p/=i,s.push([u,c]),a=2;a<t.length;a++)e=l,n=f,r=d,o=p,d=(l=t[a][0])-e,p=(f=t[a][1])-n,p/=i=Math.sqrt(d*d+p*p),(d/=i)===r&&p===o||s.push([e,n]);return s.push([l,f]),s}},function(t,e,n){var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,n){var r=t.call(this)||this;return r.x=n.x,r.y=n.y,r.parent=e,r}return r(e,t),e.prototype.getSelectedEntities=function(){return t.prototype.isSelected.call(this)&&!this.isConnectedToPort()?[this]:[]},e.prototype.isConnectedToPort=function(){return null!==this.parent.getPortForPoint(this)},e.prototype.getLink=function(){return this.getParent()},e.prototype.deSerialize=function(e,n){t.prototype.deSerialize.call(this,e,n),this.x=e.x,this.y=e.y},e.prototype.serialize=function(){return _.merge(t.prototype.serialize.call(this),{x:this.x,y:this.y})},e.prototype.remove=function(){this.parent&&this.parent.removePoint(this),t.prototype.remove.call(this)},e.prototype.updateLocation=function(t){this.x=t.x,this.y=t.y},e.prototype.getX=function(){return this.x},e.prototype.getY=function(){return this.y},e.prototype.isLocked=function(){return t.prototype.isLocked.call(this)||this.getParent().isLocked()},e}(n(6).BaseModel);e.PointModel=o},function(t,e,r){var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t};Object.defineProperty(e,"__esModule",{value:!0});var a=r(13),s=n(96486),u=function(t){function e(e,n){var r=t.call(this,n)||this;return r.type=e,r.selected=!1,r}return o(e,t),e.prototype.getParent=function(){return this.parent},e.prototype.setParent=function(t){this.parent=t},e.prototype.getSelectedEntities=function(){return this.isSelected()?[this]:[]},e.prototype.deSerialize=function(e,n){t.prototype.deSerialize.call(this,e,n),this.type=e.type,this.selected=e.selected},e.prototype.serialize=function(){return s.merge(t.prototype.serialize.call(this),{type:this.type,selected:this.selected})},e.prototype.getType=function(){return this.type},e.prototype.getID=function(){return this.id},e.prototype.isSelected=function(){return this.selected},e.prototype.setSelected=function(t){void 0===t&&(t=!0),this.selected=t,this.iterateListeners((function(e,n){e.selectionChanged&&e.selectionChanged(i({},n,{isSelected:t}))}))},e.prototype.remove=function(){this.iterateListeners((function(t,e){t.entityRemoved&&t.entityRemoved(e)}))},e}(a.BaseEntity);e.BaseModel=u},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(70),o=n(16),i=n(51),a=function(){function t(){}return t.UID=function(){return t.TESTING?(t.TESTING_UID++,""+t.TESTING_UID):"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)}))},t.closest=function(t,e){return document.body.closest?t.closest(e):r(t,e)},t.generateLinePath=function(t,e){return"M"+t.x+","+t.y+" L "+e.x+","+e.y},t.generateCurvePath=function(t,e,n){void 0===n&&(n=0);var r=Math.abs(t.x-e.x)>Math.abs(t.y-e.y),o=r?n:0,i=r?0:n;return"M"+t.x+","+t.y+" C "+(t.x+o)+","+(t.y+i)+"\n    "+(e.x-o)+","+(e.y-i)+" "+e.x+","+e.y},t.generateDynamicPath=function(t){var e=i();return e=e.moveto(t[0][0]*o.ROUTING_SCALING_FACTOR,t[0][1]*o.ROUTING_SCALING_FACTOR),t.slice(1).forEach((function(t){e=e.lineto(t[0]*o.ROUTING_SCALING_FACTOR,t[1]*o.ROUTING_SCALING_FACTOR)})),e.print()},t.TESTING=!1,t.TESTING_UID=0,t}();e.Toolkit=a},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t){this.type=t}return t.prototype.getType=function(){return this.type},t}();e.AbstractFactory=r},function(t,e,r){var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=r(6),a=n(96486),s=function(t){function e(e,n){void 0===e&&(e="default");var r=t.call(this,e,n)||this;return r.x=0,r.y=0,r.extras={},r.ports={},r}return o(e,t),e.prototype.setPosition=function(t,e){var n=this.x,r=this.y;a.forEach(this.ports,(function(o){a.forEach(o.getLinks(),(function(i){var a=i.getPointForPort(o);a.x=a.x+t-n,a.y=a.y+e-r}))})),this.x=t,this.y=e},e.prototype.getSelectedEntities=function(){var e=t.prototype.getSelectedEntities.call(this);return this.isSelected()&&a.forEach(this.ports,(function(t){e=e.concat(a.map(t.getLinks(),(function(e){return e.getPointForPort(t)})))})),e},e.prototype.deSerialize=function(e,n){var r=this;t.prototype.deSerialize.call(this,e,n),this.x=e.x,this.y=e.y,this.extras=e.extras,a.forEach(e.ports,(function(t){var e=n.getPortFactory(t.type).getNewInstance();e.deSerialize(t,n),r.addPort(e)}))},e.prototype.serialize=function(){return a.merge(t.prototype.serialize.call(this),{x:this.x,y:this.y,extras:this.extras,ports:a.map(this.ports,(function(t){return t.serialize()}))})},e.prototype.doClone=function(t,e){void 0===t&&(t={}),e.ports={},a.forEach(this.ports,(function(n){e.addPort(n.clone(t))}))},e.prototype.remove=function(){t.prototype.remove.call(this),a.forEach(this.ports,(function(t){a.forEach(t.getLinks(),(function(t){t.remove()}))}))},e.prototype.getPortFromID=function(t){for(var e in this.ports)if(this.ports[e].id===t)return this.ports[e];return null},e.prototype.getPort=function(t){return this.ports[t]},e.prototype.getPorts=function(){return this.ports},e.prototype.removePort=function(t){this.ports[t.name]&&(this.ports[t.name].setParent(null),delete this.ports[t.name])},e.prototype.addPort=function(t){return t.setParent(this),this.ports[t.name]=t,t},e.prototype.updateDimensions=function(t){var e=t.width,n=t.height;this.width=e,this.height=n},e}(i.BaseModel);e.NodeModel=s},function(t,e){t.exports={manhattan:function(t,e){return t+e},euclidean:function(t,e){return Math.sqrt(t*t+e*e)},octile:function(t,e){var n=Math.SQRT2-1;return t<e?n*t+e:n*e+t},chebyshev:function(t,e){return Math.max(t,e)}}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=function(t,e){this.mouseX=t,this.mouseY=e,this.ms=(new Date).getTime()};e.BaseAction=r},function(t,e,r){var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=r(6),a=n(96486),s=function(t){function e(e,n,r,o){var i=t.call(this,n,r)||this;return i.name=e,i.links={},i.maximumLinks=o,i}return o(e,t),e.prototype.deSerialize=function(e,n){t.prototype.deSerialize.call(this,e,n),this.name=e.name,this.maximumLinks=e.maximumLinks},e.prototype.serialize=function(){return a.merge(t.prototype.serialize.call(this),{name:this.name,parentNode:this.parent.id,links:a.map(this.links,(function(t){return t.id})),maximumLinks:this.maximumLinks})},e.prototype.doClone=function(t,e){void 0===t&&(t={}),e.links={},e.parentNode=this.getParent().clone(t)},e.prototype.getNode=function(){return this.getParent()},e.prototype.getName=function(){return this.name},e.prototype.getMaximumLinks=function(){return this.maximumLinks},e.prototype.setMaximumLinks=function(t){this.maximumLinks=t},e.prototype.removeLink=function(t){delete this.links[t.getID()]},e.prototype.addLink=function(t){this.links[t.getID()]=t},e.prototype.getLinks=function(){return this.links},e.prototype.createLinkModel=function(){if(a.isFinite(this.maximumLinks)){var t=a.size(this.links);if(1===this.maximumLinks&&t>=1)return a.values(this.links)[0];if(t>=this.maximumLinks)return null}return null},e.prototype.updateCoords=function(t){var e=t.x,n=t.y,r=t.width,o=t.height;this.x=e,this.y=n,this.width=r,this.height=o},e.prototype.canLinkToPort=function(t){return!0},e.prototype.isLocked=function(){return t.prototype.isLocked.call(this)||this.getParent().isLocked()},e}(i.BaseModel);e.PortModel=s},function(t,e,r){var o=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t};Object.defineProperty(e,"__esModule",{value:!0});var i=r(7),a=n(96486),s=function(){function t(t){this.listeners={},this.id=t||i.Toolkit.UID(),this.locked=!1}return t.prototype.getID=function(){return this.id},t.prototype.doClone=function(t,e){void 0===t&&(t={})},t.prototype.clone=function(t){if(void 0===t&&(t={}),t[this.id])return t[this.id];var e=a.clone(this);return e.id=i.Toolkit.UID(),e.clearListeners(),t[this.id]=e,this.doClone(t,e),e},t.prototype.clearListeners=function(){this.listeners={}},t.prototype.deSerialize=function(t,e){this.id=t.id},t.prototype.serialize=function(){return{id:this.id}},t.prototype.iterateListeners=function(t){var e={id:i.Toolkit.UID(),firing:!0,entity:this,stopPropagation:function(){e.firing=!1}};for(var n in this.listeners)if(this.listeners.hasOwnProperty(n)){if(!e.firing)return;t(this.listeners[n],e)}},t.prototype.removeListener=function(t){return!!this.listeners[t]&&(delete this.listeners[t],!0)},t.prototype.addListener=function(t){var e=i.Toolkit.UID();return this.listeners[e]=t,e},t.prototype.isLocked=function(){return this.locked},t.prototype.setLocked=function(t){void 0===t&&(t=!0),this.locked=t,this.iterateListeners((function(e,n){e.lockChanged&&e.lockChanged(o({},n,{locked:t}))}))},t}();e.BaseEntity=s},function(t,e,n){var r=n(15),o=n(4),i=n(10);function a(t){t=t||{},this.heuristic=t.heuristic||i.manhattan,this.trackJumpRecursion=t.trackJumpRecursion||!1}n(2),a.prototype.findPath=function(t,e,n,i,a){var s,u=this.openList=new r((function(t,e){return t.f-e.f})),c=this.startNode=a.getNodeAt(t,e),l=this.endNode=a.getNodeAt(n,i);for(this.grid=a,c.g=0,c.f=0,u.push(c),c.opened=!0;!u.empty();){if((s=u.pop()).closed=!0,s===l)return o.expandPath(o.backtrace(l));this._identifySuccessors(s)}return[]},a.prototype._identifySuccessors=function(t){var e,n,r,o,a,s,u,c,l,f,d=this.grid,p=this.heuristic,h=this.openList,g=this.endNode.x,v=this.endNode.y,y=t.x,m=t.y,b=Math.abs;for(Math.max,o=0,a=(e=this._findNeighbors(t)).length;o<a;++o)if(n=e[o],r=this._jump(n[0],n[1],y,m)){if(s=r[0],u=r[1],(f=d.getNodeAt(s,u)).closed)continue;c=i.octile(b(s-y),b(u-m)),l=t.g+c,(!f.opened||l<f.g)&&(f.g=l,f.h=f.h||p(b(s-g),b(u-v)),f.f=f.g+f.h,f.parent=t,f.opened?h.updateItem(f):(h.push(f),f.opened=!0))}},t.exports=a},function(t,e,n){t.exports=n(66)},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(68);e.ROUTING_SCALING_FACTOR=5;var o=new r.JumpPointFinder({heuristic:r.Heuristic.manhattan,diagonalMovement:r.DiagonalMovement.Never}),i=function(){function t(t){this.instance=o,this.diagramEngine=t}return t.prototype.calculateDirectPath=function(t,n){var i=this.diagramEngine.getCanvasMatrix(),a=new r.Grid(i);return o.findPath(this.diagramEngine.translateRoutingX(Math.floor(t.x/e.ROUTING_SCALING_FACTOR)),this.diagramEngine.translateRoutingY(Math.floor(t.y/e.ROUTING_SCALING_FACTOR)),this.diagramEngine.translateRoutingX(Math.floor(n.x/e.ROUTING_SCALING_FACTOR)),this.diagramEngine.translateRoutingY(Math.floor(n.y/e.ROUTING_SCALING_FACTOR)),a)},t.prototype.calculateLinkStartEndCoords=function(t,e){var n=e.findIndex((function(e){return 0===t[e[1]][e[0]]})),r=e.length-1-e.slice().reverse().findIndex((function(e){return 0===t[e[1]][e[0]]}));if(-1!==n&&-1!==r){var o=e.slice(0,n),i=e.slice(r);return{start:{x:e[n][0],y:e[n][1]},end:{x:e[r][0],y:e[r][1]},pathToStart:o,pathToEnd:i}}},t.prototype.calculateDynamicPath=function(t,e,n,i,a){var s=this,u=new r.Grid(t),c=o.findPath(e.x,e.y,n.x,n.y,u),l=i.concat(c,a).map((function(t){return[s.diagramEngine.translateRoutingX(t[0],!0),s.diagramEngine.translateRoutingY(t[1],!0)]}));return r.Util.compressPath(l)},t}();e.default=i},function(t,e,r){var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=r(6),a=n(96486),s=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.offsetX=0,r.offsetY=0,r}return o(e,t),e.prototype.deSerialize=function(e,n){t.prototype.deSerialize.call(this,e,n),this.offsetX=e.offsetX,this.offsetY=e.offsetY},e.prototype.serialize=function(){return a.merge(t.prototype.serialize.call(this),{offsetX:this.offsetX,offsetY:this.offsetY})},e}(i.BaseModel);e.LabelModel=s},function(t,e,r){var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=r(17),a=n(96486),s=function(t){function e(){var e=t.call(this,"default")||this;return e.offsetY=-23,e}return o(e,t),e.prototype.setLabel=function(t){this.label=t},e.prototype.deSerialize=function(e,n){t.prototype.deSerialize.call(this,e,n),this.label=e.label},e.prototype.serialize=function(){return a.merge(t.prototype.serialize.call(this),{label:this.label})},e}(i.LabelModel);e.DefaultLabelModel=s},function(t,e,r){var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t};Object.defineProperty(e,"__esModule",{value:!0});var a=r(21),s=n(96486),u=r(18),c=r(17),l=function(t){function e(e){void 0===e&&(e="default");var n=t.call(this,e)||this;return n.color="rgba(255,255,255,0.5)",n.width=3,n.curvyness=50,n}return o(e,t),e.prototype.serialize=function(){return s.merge(t.prototype.serialize.call(this),{width:this.width,color:this.color,curvyness:this.curvyness})},e.prototype.deSerialize=function(e,n){t.prototype.deSerialize.call(this,e,n),this.color=e.color,this.width=e.width,this.curvyness=e.curvyness},e.prototype.addLabel=function(e){if(e instanceof c.LabelModel)return t.prototype.addLabel.call(this,e);var n=new u.DefaultLabelModel;return n.setLabel(e),t.prototype.addLabel.call(this,n)},e.prototype.setWidth=function(t){this.width=t,this.iterateListeners((function(e,n){e.widthChanged&&e.widthChanged(i({},n,{width:t}))}))},e.prototype.setColor=function(t){this.color=t,this.iterateListeners((function(e,n){e.colorChanged&&e.colorChanged(i({},n,{color:t}))}))},e}(a.LinkModel);e.DefaultLinkModel=l},function(t,e,r){var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(96486),a=r(12),s=r(19),u=function(t){function e(e,n,r,o){void 0===r&&(r=null);var i=t.call(this,n,"default",o)||this;return i.in=e,i.label=r||n,i}return o(e,t),e.prototype.deSerialize=function(e,n){t.prototype.deSerialize.call(this,e,n),this.in=e.in,this.label=e.label},e.prototype.serialize=function(){return i.merge(t.prototype.serialize.call(this),{in:this.in,label:this.label})},e.prototype.link=function(t){var e=this.createLinkModel();return e.setSourcePort(this),e.setTargetPort(t),e},e.prototype.canLinkToPort=function(t){return!(t instanceof e)||this.in!==t.in},e.prototype.createLinkModel=function(){return t.prototype.createLinkModel.call(this)||new s.DefaultLinkModel},e}(a.PortModel);e.DefaultPortModel=u},function(t,e,r){var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t};Object.defineProperty(e,"__esModule",{value:!0});var a=r(6),s=r(5),u=n(96486),c=function(t){function e(e,n){void 0===e&&(e="default");var r=t.call(this,e,n)||this;return r.points=[new s.PointModel(r,{x:0,y:0}),new s.PointModel(r,{x:0,y:0})],r.extras={},r.sourcePort=null,r.targetPort=null,r.labels=[],r}return o(e,t),e.prototype.deSerialize=function(e,n){var r=this;t.prototype.deSerialize.call(this,e,n),this.extras=e.extras,this.points=u.map(e.points||[],(function(t){var e=new s.PointModel(r,{x:t.x,y:t.y});return e.deSerialize(t,n),e})),u.forEach(e.labels||[],(function(t){var e=n.getLabelFactory(t.type).getNewInstance();e.deSerialize(t,n),r.addLabel(e)})),e.target&&this.setTargetPort(this.getParent().getNode(e.target).getPortFromID(e.targetPort)),e.source&&this.setSourcePort(this.getParent().getNode(e.source).getPortFromID(e.sourcePort))},e.prototype.serialize=function(){return u.merge(t.prototype.serialize.call(this),{source:this.sourcePort?this.sourcePort.getParent().id:null,sourcePort:this.sourcePort?this.sourcePort.id:null,target:this.targetPort?this.targetPort.getParent().id:null,targetPort:this.targetPort?this.targetPort.id:null,points:u.map(this.points,(function(t){return t.serialize()})),extras:this.extras,labels:u.map(this.labels,(function(t){return t.serialize()}))})},e.prototype.doClone=function(t,e){void 0===t&&(t={}),e.setPoints(u.map(this.getPoints(),(function(e){return e.clone(t)}))),this.sourcePort&&e.setSourcePort(this.sourcePort.clone(t)),this.targetPort&&e.setTargetPort(this.targetPort.clone(t))},e.prototype.remove=function(){this.sourcePort&&this.sourcePort.removeLink(this),this.targetPort&&this.targetPort.removeLink(this),t.prototype.remove.call(this)},e.prototype.isLastPoint=function(t){return this.getPointIndex(t)===this.points.length-1},e.prototype.getPointIndex=function(t){return this.points.indexOf(t)},e.prototype.getPointModel=function(t){for(var e=0;e<this.points.length;e++)if(this.points[e].id===t)return this.points[e];return null},e.prototype.getPortForPoint=function(t){return null!==this.sourcePort&&this.getFirstPoint().getID()===t.getID()?this.sourcePort:null!==this.targetPort&&this.getLastPoint().getID()===t.getID()?this.targetPort:null},e.prototype.getPointForPort=function(t){return null!==this.sourcePort&&this.sourcePort.getID()===t.getID()?this.getFirstPoint():null!==this.targetPort&&this.targetPort.getID()===t.getID()?this.getLastPoint():null},e.prototype.getFirstPoint=function(){return this.points[0]},e.prototype.getLastPoint=function(){return this.points[this.points.length-1]},e.prototype.setSourcePort=function(t){null!==t&&t.addLink(this),null!==this.sourcePort&&this.sourcePort.removeLink(this),this.sourcePort=t,this.iterateListeners((function(e,n){e.sourcePortChanged&&e.sourcePortChanged(i({},n,{port:t}))}))},e.prototype.getSourcePort=function(){return this.sourcePort},e.prototype.getTargetPort=function(){return this.targetPort},e.prototype.setTargetPort=function(t){null!==t&&t.addLink(this),null!==this.targetPort&&this.targetPort.removeLink(this),this.targetPort=t,this.iterateListeners((function(e,n){e.targetPortChanged&&e.targetPortChanged(i({},n,{port:t}))}))},e.prototype.point=function(t,e){return this.addPoint(this.generatePoint(t,e))},e.prototype.addLabel=function(t){t.setParent(this),this.labels.push(t)},e.prototype.getPoints=function(){return this.points},e.prototype.setPoints=function(t){var e=this;u.forEach(t,(function(t){t.setParent(e)})),this.points=t},e.prototype.removePoint=function(t){this.points.splice(this.getPointIndex(t),1)},e.prototype.removePointsBefore=function(t){this.points.splice(0,this.getPointIndex(t))},e.prototype.removePointsAfter=function(t){this.points.splice(this.getPointIndex(t)+1)},e.prototype.removeMiddlePoints=function(){this.points.length>2&&this.points.splice(0,this.points.length-2)},e.prototype.addPoint=function(t,e){return void 0===e&&(e=1),t.setParent(this),this.points.splice(e,0,t),t},e.prototype.generatePoint=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=0),new s.PointModel(this,{x:t,y:e})},e}(a.BaseModel);e.LinkModel=c},function(t,e,n){var r=n(15),o=n(4),i=n(10),a=n(2);function s(t){t=t||{},this.allowDiagonal=t.allowDiagonal,this.dontCrossCorners=t.dontCrossCorners,this.diagonalMovement=t.diagonalMovement,this.heuristic=t.heuristic||i.manhattan,this.weight=t.weight||1,this.diagonalMovement||(this.allowDiagonal?this.dontCrossCorners?this.diagonalMovement=a.OnlyWhenNoObstacles:this.diagonalMovement=a.IfAtMostOneObstacle:this.diagonalMovement=a.Never),this.diagonalMovement===a.Never?this.heuristic=t.heuristic||i.manhattan:this.heuristic=t.heuristic||i.octile}s.prototype.findPath=function(t,e,n,i,a){var s,u,c,l,f,d,p,h,g=function(t,e){return t.f-e.f},v=new r(g),y=new r(g),m=a.getNodeAt(t,e),b=a.getNodeAt(n,i),_=this.heuristic,x=this.diagonalMovement,w=this.weight,k=Math.abs,P=Math.SQRT2;for(m.g=0,m.f=0,v.push(m),m.opened=1,b.g=0,b.f=0,y.push(b),b.opened=2;!v.empty()&&!y.empty();){for((s=v.pop()).closed=!0,l=0,f=(u=a.getNeighbors(s,x)).length;l<f;++l)if(!(c=u[l]).closed){if(2===c.opened)return o.biBacktrace(s,c);d=c.x,p=c.y,h=s.g+(d-s.x===0||p-s.y===0?1:P),(!c.opened||h<c.g)&&(c.g=h,c.h=c.h||w*_(k(d-n),k(p-i)),c.f=c.g+c.h,c.parent=s,c.opened?v.updateItem(c):(v.push(c),c.opened=1))}for((s=y.pop()).closed=!0,l=0,f=(u=a.getNeighbors(s,x)).length;l<f;++l)if(!(c=u[l]).closed){if(1===c.opened)return o.biBacktrace(c,s);d=c.x,p=c.y,h=s.g+(d-s.x===0||p-s.y===0?1:P),(!c.opened||h<c.g)&&(c.g=h,c.h=c.h||w*_(k(d-t),k(p-e)),c.f=c.g+c.h,c.parent=s,c.opened?y.updateItem(c):(y.push(c),c.opened=2))}}return[]},t.exports=s},function(t,e,n){var r=n(15),o=n(4),i=n(10),a=n(2);function s(t){t=t||{},this.allowDiagonal=t.allowDiagonal,this.dontCrossCorners=t.dontCrossCorners,this.heuristic=t.heuristic||i.manhattan,this.weight=t.weight||1,this.diagonalMovement=t.diagonalMovement,this.diagonalMovement||(this.allowDiagonal?this.dontCrossCorners?this.diagonalMovement=a.OnlyWhenNoObstacles:this.diagonalMovement=a.IfAtMostOneObstacle:this.diagonalMovement=a.Never),this.diagonalMovement===a.Never?this.heuristic=t.heuristic||i.manhattan:this.heuristic=t.heuristic||i.octile}s.prototype.findPath=function(t,e,n,i,a){var s,u,c,l,f,d,p,h,g=new r((function(t,e){return t.f-e.f})),v=a.getNodeAt(t,e),y=a.getNodeAt(n,i),m=this.heuristic,b=this.diagonalMovement,_=this.weight,x=Math.abs,w=Math.SQRT2;for(v.g=0,v.f=0,g.push(v),v.opened=!0;!g.empty();){if((s=g.pop()).closed=!0,s===y)return o.backtrace(y);for(l=0,f=(u=a.getNeighbors(s,b)).length;l<f;++l)(c=u[l]).closed||(d=c.x,p=c.y,h=s.g+(d-s.x===0||p-s.y===0?1:w),(!c.opened||h<c.g)&&(c.g=h,c.h=c.h||_*m(x(d-n),x(p-i)),c.f=c.g+c.h,c.parent=s,c.opened?g.updateItem(c):(g.push(c),c.opened=!0)))}return[]},t.exports=s},function(t,e){t.exports=function(t,e,n){this.x=t,this.y=e,this.walkable=void 0===n||n}},function(t,e,n){var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t};Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),a=function(t){function e(e){var n=t.call(this,"srd-node",e)||this;return n.state={},n}return r(e,t),e.prototype.shouldComponentUpdate=function(){return this.props.diagramEngine.canEntityRepaint(this.props.node)},e.prototype.getClassName=function(){return"node "+t.prototype.getClassName.call(this)+(this.props.node.isSelected()?this.bem("--selected"):"")},e.prototype.render=function(){return i.createElement("div",o({},this.getProps(),{"data-nodeid":this.props.node.id,style:{top:this.props.node.y,left:this.props.node.x}}),this.props.children)},e}(n(3).BaseWidget);e.NodeWidget=a},function(t,e,r){var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t};Object.defineProperty(e,"__esModule",{value:!0});var a=r(1),s=n(96486),u=r(25),c=function(t){function e(e){var n=t.call(this,"srd-node-layer",e)||this;return n.updateNodeDimensions=function(){if(!n.props.diagramEngine.nodesRendered){var t=n.props.diagramEngine.getDiagramModel();s.map(t.getNodes(),(function(t){t.updateDimensions(n.props.diagramEngine.getNodeDimensions(t))}))}},n.state={},n}return o(e,t),e.prototype.componentDidUpdate=function(){this.updateNodeDimensions(),this.props.diagramEngine.nodesRendered=!0},e.prototype.render=function(){var t=this,e=this.props.diagramEngine.getDiagramModel();return a.createElement("div",i({},this.getProps(),{style:{transform:"translate("+e.getOffsetX()+"px,"+e.getOffsetY()+"px) scale("+e.getZoomLevel()/100+")"}}),s.map(e.getNodes(),(function(e){return a.createElement(u.NodeWidget,{diagramEngine:t.props.diagramEngine,key:e.id,node:e},t.props.diagramEngine.generateWidgetForNode(e))})))},e}(r(3).BaseWidget);e.NodeLayerWidget=c},function(t,e,n){var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e){var n=t.call(this,"srd-link",e)||this;return n.state={},n}return r(e,t),e.prototype.shouldComponentUpdate=function(){return this.props.diagramEngine.canEntityRepaint(this.props.link)},e.prototype.render=function(){return this.props.children},e}(n(3).BaseWidget);e.LinkWidget=o},function(t,e,r){var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t};Object.defineProperty(e,"__esModule",{value:!0});var a=r(1),s=r(27),u=n(96486),c=function(t){function e(e){var n=t.call(this,"srd-link-layer",e)||this;return n.state={},n}return o(e,t),e.prototype.render=function(){var t=this,e=this.props.diagramEngine.getDiagramModel();return a.createElement("svg",i({},this.getProps(),{style:{transform:"translate("+e.getOffsetX()+"px,"+e.getOffsetY()+"px) scale("+e.getZoomLevel()/100+")"}}),this.props.diagramEngine.canvas&&u.map(e.getLinks(),(function(e){if(t.props.diagramEngine.nodesRendered&&!t.props.diagramEngine.linksThatHaveInitiallyRendered[e.id]){if(null!==e.sourcePort)try{var n=t.props.diagramEngine.getPortCenter(e.sourcePort);e.points[0].updateLocation(n);var r=t.props.diagramEngine.getPortCoords(e.sourcePort);e.sourcePort.updateCoords(r),t.props.diagramEngine.linksThatHaveInitiallyRendered[e.id]=!0}catch(i){}if(null!==e.targetPort)try{n=t.props.diagramEngine.getPortCenter(e.targetPort),u.last(e.points).updateLocation(n),r=t.props.diagramEngine.getPortCoords(e.targetPort),e.targetPort.updateCoords(r),t.props.diagramEngine.linksThatHaveInitiallyRendered[e.id]=!0}catch(i){}}var o=t.props.diagramEngine.generateWidgetForLink(e);if(!o)throw new Error("no link generated for type: "+e.getType());return a.createElement(s.LinkWidget,{key:e.getID(),link:e,diagramEngine:t.props.diagramEngine},a.cloneElement(o,{pointAdded:t.props.pointAdded}))})))},e}(r(3).BaseWidget);e.LinkLayerWidget=c},function(t,e,n){var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.mouseX2=e,r.mouseY2=n,r}return r(e,t),e.prototype.getBoxDimensions=function(){return{left:this.mouseX2>this.mouseX?this.mouseX:this.mouseX2,top:this.mouseY2>this.mouseY?this.mouseY:this.mouseY2,width:Math.abs(this.mouseX2-this.mouseX),height:Math.abs(this.mouseY2-this.mouseY),right:this.mouseX2<this.mouseX?this.mouseX:this.mouseX2,bottom:this.mouseY2<this.mouseY?this.mouseY:this.mouseY2}},e.prototype.containsElement=function(t,e,n){var r=n.getZoomLevel()/100,o=this.getBoxDimensions();return t*r+n.getOffsetX()>o.left&&t*r+n.getOffsetX()<o.right&&e*r+n.getOffsetY()>o.top&&e*r+n.getOffsetY()<o.bottom},e}(n(11).BaseAction);e.SelectingAction=o},function(t,e,n){var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,n,r){var o=t.call(this,e,n)||this;o.moved=!1,r.enableRepaintEntities(r.getDiagramModel().getSelectedItems());var i=r.getDiagramModel().getSelectedItems();return i=i.filter((function(t){return!r.isModelLocked(t)})),o.selectionModels=i.map((function(t){return{model:t,initialX:t.x,initialY:t.y}})),o}return r(e,t),e}(n(11).BaseAction);e.MoveItemsAction=o},function(t,e,n){var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,n,r){var o=t.call(this,e,n)||this;return o.initialOffsetX=r.getOffsetX(),o.initialOffsetY=r.getOffsetY(),o}return r(e,t),e}(n(11).BaseAction);e.MoveCanvasAction=o},function(t,e,n){var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(n(8).AbstractFactory);e.AbstractNodeFactory=o},function(t,e,n){var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t};Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),a=function(t){function e(e){var n=t.call(this,"srd-port",e)||this;return n.state={selected:!1},n}return r(e,t),e.prototype.getClassName=function(){return"port "+t.prototype.getClassName.call(this)+(this.state.selected?this.bem("--selected"):"")},e.prototype.render=function(){var t=this;return i.createElement("div",o({},this.getProps(),{onMouseEnter:function(){t.setState({selected:!0})},onMouseLeave:function(){t.setState({selected:!1})},"data-name":this.props.name,"data-nodeid":this.props.node.getID()}))},e}(n(3).BaseWidget);e.PortWidget=a},function(t,e,n){var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t};Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),a=n(33),s=function(t){function e(e){return t.call(this,"srd-default-port",e)||this}return r(e,t),e.prototype.getClassName=function(){return t.prototype.getClassName.call(this)+(this.props.model.in?this.bem("--in"):this.bem("--out"))},e.prototype.render=function(){var t=i.createElement(a.PortWidget,{node:this.props.model.getParent(),name:this.props.model.name}),e=i.createElement("div",{className:"name"},this.props.model.label);return i.createElement("div",o({},this.getProps()),this.props.model.in?t:e,this.props.model.in?e:t)},e}(n(3).BaseWidget);e.DefaultPortLabel=s},function(t,e,r){var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t};Object.defineProperty(e,"__esModule",{value:!0});var a=r(1),s=n(96486),u=r(34),c=function(t){function e(e){var n=t.call(this,"srd-default-node",e)||this;return n.state={},n}return o(e,t),e.prototype.generatePort=function(t){return a.createElement(u.DefaultPortLabel,{model:t,key:t.id})},e.prototype.render=function(){return a.createElement("div",i({},this.getProps(),{style:{background:this.props.node.color}}),a.createElement("div",{className:this.bem("__title")},a.createElement("div",{className:this.bem("__name")},this.props.node.name)),a.createElement("div",{className:this.bem("__ports")},a.createElement("div",{className:this.bem("__in")},s.map(this.props.node.getInPorts(),this.generatePort.bind(this))),a.createElement("div",{className:this.bem("__out")},s.map(this.props.node.getOutPorts(),this.generatePort.bind(this)))))},e}(r(3).BaseWidget);e.DefaultNodeWidget=c},function(t,e,n){var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(n(8).AbstractFactory);e.AbstractLinkFactory=o},function(t,e,r){var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t};Object.defineProperty(e,"__esModule",{value:!0});var a=r(1),s=r(5),u=r(7),c=r(16),l=n(96486),f=function(t){function e(e){var n=t.call(this,"srd-default-link",e)||this;return n.addPointToLink=function(t,e){if(!t.shiftKey&&!n.props.diagramEngine.isModelLocked(n.props.link)&&n.props.link.points.length-1<=n.props.diagramEngine.getMaxNumberPointsPerLink()){var r=new s.PointModel(n.props.link,n.props.diagramEngine.getRelativeMousePoint(t));r.setSelected(!0),n.forceUpdate(),n.props.link.addPoint(r,e),n.props.pointAdded(r,t)}},n.findPathAndRelativePositionToRenderLabel=function(t){for(var e=n.refPaths.map((function(t){return t.getTotalLength()})),r=e.reduce((function(t,e){return t+e}),0)*(t/(n.props.link.labels.length+1)),o=0;o<n.refPaths.length;){if(r-e[o]<0)return{path:n.refPaths[o],position:r};r-=e[o],o++}},n.calculateLabelPosition=function(t,e){if(n.refLabels[t.id]){var r=n.findPathAndRelativePositionToRenderLabel(e),o=r.path,i=r.position,a=n.refLabels[t.id].offsetWidth,s=n.refLabels[t.id].offsetHeight,u=o.getPointAtLength(i),c=u.x-a/2+t.offsetX,l=u.y-s/2+t.offsetY;n.refLabels[t.id].setAttribute("style","transform: translate("+c+"px, "+l+"px);")}},n.refLabels={},n.refPaths=[],n.state={selected:!1},e.diagramEngine.isSmartRoutingEnabled()&&(n.pathFinding=new c.default(n.props.diagramEngine)),n}return o(e,t),e.prototype.calculateAllLabelPosition=function(){var t=this;l.forEach(this.props.link.labels,(function(e,n){t.calculateLabelPosition(e,n+1)}))},e.prototype.componentDidUpdate=function(){this.props.link.labels.length>0&&window.requestAnimationFrame(this.calculateAllLabelPosition.bind(this))},e.prototype.componentDidMount=function(){this.props.link.labels.length>0&&window.requestAnimationFrame(this.calculateAllLabelPosition.bind(this))},e.prototype.generatePoint=function(t){var e=this,n=this.props.link.points[t].x,r=this.props.link.points[t].y;return a.createElement("g",{key:"point-"+this.props.link.points[t].id},a.createElement("circle",{cx:n,cy:r,r:5,className:"point "+this.bem("__point")+(this.props.link.points[t].isSelected()?this.bem("--point-selected"):"")}),a.createElement("circle",{onMouseLeave:function(){e.setState({selected:!1})},onMouseEnter:function(){e.setState({selected:!0})},"data-id":this.props.link.points[t].id,"data-linkid":this.props.link.id,cx:n,cy:r,r:15,opacity:0,className:"point "+this.bem("__point")}))},e.prototype.generateLabel=function(t){var e=this,n=this.props.diagramEngine.canvas;return a.createElement("foreignObject",{key:t.id,className:this.bem("__label"),width:n.offsetWidth,height:n.offsetHeight},a.createElement("div",{ref:function(n){return e.refLabels[t.id]=n}},this.props.diagramEngine.getFactoryForLabel(t).generateReactWidget(this.props.diagramEngine,t)))},e.prototype.generateLink=function(t,e,n){var r=this,o=this.props,s=a.cloneElement(o.diagramEngine.getFactoryForLink(this.props.link).generateLinkSegment(this.props.link,this,this.state.selected||this.props.link.isSelected(),t),{ref:function(t){return t&&r.refPaths.push(t)}}),u=a.cloneElement(s,i({},e,{strokeLinecap:"round",onMouseLeave:function(){r.setState({selected:!1})},onMouseEnter:function(){r.setState({selected:!0})},ref:null,"data-linkid":this.props.link.getID(),strokeOpacity:this.state.selected?.1:0,strokeWidth:20,onContextMenu:function(){r.props.diagramEngine.isModelLocked(r.props.link)||(event.preventDefault(),r.props.link.remove())}}));return a.createElement("g",{key:"link-"+n},s,u)},e.prototype.isSmartRoutingApplicable=function(){var t=this.props,e=t.diagramEngine,n=t.link;return!!e.isSmartRoutingEnabled()&&2===n.points.length&&null!==n.sourcePort&&null!==n.targetPort},e.prototype.render=function(){var t=this,e=this.props.diagramEngine;if(!e.nodesRendered)return null;var n=this.props.link.points,r=[];if(this.isSmartRoutingApplicable()){var o=this.pathFinding.calculateDirectPath(l.first(n),l.last(n)),s=e.getRoutingMatrix(),c=this.pathFinding.calculateLinkStartEndCoords(s,o);if(c){var f=c.start,d=c.end,p=c.pathToStart,h=c.pathToEnd,g=this.pathFinding.calculateDynamicPath(s,f,d,p,h);r.push(this.generateLink(u.Toolkit.generateDynamicPath(g),{onMouseDown:function(e){t.addPointToLink(e,1)}},"0"))}}if(0===r.length)if(2===n.length){var v=Math.abs(n[0].x-n[1].x)>Math.abs(n[0].y-n[1].y)?"x":"y";Math.abs(n[0][v]-n[1][v]);var y=n[0],m=n[1];y[v]>m[v]&&(y=n[1],m=n[0]),r.push(this.generateLink(u.Toolkit.generateCurvePath(y,m,this.props.link.curvyness),{onMouseDown:function(e){t.addPointToLink(e,1)}},"0")),null===this.props.link.targetPort&&r.push(this.generatePoint(1))}else{for(var b=function(e){r.push(_.generateLink(u.Toolkit.generateLinePath(n[e],n[e+1]),{"data-linkid":_.props.link.id,"data-point":e,onMouseDown:function(n){t.addPointToLink(n,e+1)}},e))},_=this,x=0;x<n.length-1;x++)b(x);for(var w=1;w<n.length-1;w++)r.push(this.generatePoint(w));null===this.props.link.targetPort&&r.push(this.generatePoint(n.length-1))}return this.refPaths=[],a.createElement("g",i({},this.getProps()),r,l.map(this.props.link.labels,(function(e){return t.generateLabel(e)})))},e.defaultProps={color:"black",width:3,link:null,engine:null,smooth:!1,diagramEngine:null},e}(r(3).BaseWidget);e.DefaultLinkWidget=f},function(t,e,r){var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=r(20),a=n(96486),s=r(9),u=r(7),c=function(t){function e(e,n){void 0===e&&(e="Untitled"),void 0===n&&(n="rgb(0,192,255)");var r=t.call(this,"default")||this;return r.name=e,r.color=n,r}return o(e,t),e.prototype.addInPort=function(t){return this.addPort(new i.DefaultPortModel(!0,u.Toolkit.UID(),t))},e.prototype.addOutPort=function(t){return this.addPort(new i.DefaultPortModel(!1,u.Toolkit.UID(),t))},e.prototype.deSerialize=function(e,n){t.prototype.deSerialize.call(this,e,n),this.name=e.name,this.color=e.color},e.prototype.serialize=function(){return a.merge(t.prototype.serialize.call(this),{name:this.name,color:this.color})},e.prototype.getInPorts=function(){return a.filter(this.ports,(function(t){return t.in}))},e.prototype.getOutPorts=function(){return a.filter(this.ports,(function(t){return!t.in}))},e}(s.NodeModel);e.DefaultNodeModel=c},function(t,e,n){var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t};Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),a=function(t){function e(e){return t.call(this,"srd-default-label",e)||this}return r(e,t),e.prototype.render=function(){return i.createElement("div",o({},this.getProps()),this.props.model.label)},e}(n(3).BaseWidget);e.DefaultLabelWidget=a},function(t,e,n){var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(n(8).AbstractFactory);e.AbstractLabelFactory=o},function(t,e,n){var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(1),i=n(40),a=n(18),s=n(39),u=function(t){function e(){return t.call(this,"default")||this}return r(e,t),e.prototype.generateReactWidget=function(t,e){return o.createElement(s.DefaultLabelWidget,{model:e})},e.prototype.getNewInstance=function(t){return new a.DefaultLabelModel},e}(i.AbstractLabelFactory);e.DefaultLabelFactory=u},function(t,e,n){var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(n(8).AbstractFactory);e.AbstractPortFactory=o},function(t,e,n){var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(20),i=function(t){function e(){return t.call(this,"default")||this}return r(e,t),e.prototype.getNewInstance=function(t){return new o.DefaultPortModel(!0,"unknown")},e}(n(42).AbstractPortFactory);e.DefaultPortFactory=i},function(t,e,r){var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t};Object.defineProperty(e,"__esModule",{value:!0});var a=r(13),s=n(96486),u=r(21),c=r(9),l=r(12),f=r(5),d=function(t){function e(){var e=t.call(this)||this;return e.links={},e.nodes={},e.offsetX=0,e.offsetY=0,e.zoom=100,e.rendered=!1,e.gridSize=0,e}return o(e,t),e.prototype.setGridSize=function(t){void 0===t&&(t=0),this.gridSize=t,this.iterateListeners((function(e,n){e.gridUpdated&&e.gridUpdated(i({},n,{size:t}))}))},e.prototype.getGridPosition=function(t){return 0===this.gridSize?t:this.gridSize*Math.floor((t+this.gridSize/2)/this.gridSize)},e.prototype.deSerializeDiagram=function(t,e){var n=this;this.deSerialize(t,e),this.offsetX=t.offsetX,this.offsetY=t.offsetY,this.zoom=t.zoom,this.gridSize=t.gridSize,s.forEach(t.nodes,(function(t){var r=e.getNodeFactory(t.type).getNewInstance(t);r.setParent(n),r.deSerialize(t,e),n.addNode(r)})),s.forEach(t.links,(function(t){var r=e.getLinkFactory(t.type).getNewInstance();r.setParent(n),r.deSerialize(t,e),n.addLink(r)}))},e.prototype.serializeDiagram=function(){return s.merge(this.serialize(),{offsetX:this.offsetX,offsetY:this.offsetY,zoom:this.zoom,gridSize:this.gridSize,links:s.map(this.links,(function(t){return t.serialize()})),nodes:s.map(this.nodes,(function(t){return t.serialize()}))})},e.prototype.clearSelection=function(t){void 0===t&&(t=null),s.forEach(this.getSelectedItems(),(function(e){t&&t.getID()===e.getID()||e.setSelected(!1)}))},e.prototype.getSelectedItems=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];Array.isArray(t)||(t=[t]);var n=[];return n=(n=(n=n.concat(s.flatMap(this.nodes,(function(t){return t.getSelectedEntities()})))).concat(s.flatMap(this.links,(function(t){return t.getSelectedEntities()})))).concat(s.flatMap(this.links,(function(t){return s.flatMap(t.points,(function(t){return t.getSelectedEntities()}))}))),n=s.uniq(n),t.length>0&&(n=s.filter(s.uniq(n),(function(e){return!!(s.includes(t,"node")&&e instanceof c.NodeModel)||!!(s.includes(t,"link")&&e instanceof u.LinkModel)||!!(s.includes(t,"port")&&e instanceof l.PortModel)||!!(s.includes(t,"point")&&e instanceof f.PointModel)}))),n},e.prototype.setZoomLevel=function(t){this.zoom=t,this.iterateListeners((function(e,n){e.zoomUpdated&&e.zoomUpdated(i({},n,{zoom:t}))}))},e.prototype.setOffset=function(t,e){this.offsetX=t,this.offsetY=e,this.iterateListeners((function(n,r){n.offsetUpdated&&n.offsetUpdated(i({},r,{offsetX:t,offsetY:e}))}))},e.prototype.setOffsetX=function(t){var e=this;this.offsetX=t,this.iterateListeners((function(n,r){n.offsetUpdated&&n.offsetUpdated(i({},r,{offsetX:t,offsetY:e.offsetY}))}))},e.prototype.setOffsetY=function(t){var e=this;this.offsetY=t,this.iterateListeners((function(t,n){t.offsetUpdated&&t.offsetUpdated(i({},n,{offsetX:e.offsetX,offsetY:e.offsetY}))}))},e.prototype.getOffsetY=function(){return this.offsetY},e.prototype.getOffsetX=function(){return this.offsetX},e.prototype.getZoomLevel=function(){return this.zoom},e.prototype.getNode=function(t){return t instanceof c.NodeModel?t:this.nodes[t]?this.nodes[t]:null},e.prototype.getLink=function(t){return t instanceof u.LinkModel?t:this.links[t]?this.links[t]:null},e.prototype.addAll=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return s.forEach(e,(function(e){e instanceof u.LinkModel?t.addLink(e):e instanceof c.NodeModel&&t.addNode(e)})),e},e.prototype.addLink=function(t){var e=this;return t.addListener({entityRemoved:function(){e.removeLink(t)}}),this.links[t.getID()]=t,this.iterateListeners((function(e,n){e.linksUpdated&&e.linksUpdated(i({},n,{link:t,isCreated:!0}))})),t},e.prototype.addNode=function(t){var e=this;return t.addListener({entityRemoved:function(){e.removeNode(t)}}),this.nodes[t.getID()]=t,this.iterateListeners((function(e,n){e.nodesUpdated&&e.nodesUpdated(i({},n,{node:t,isCreated:!0}))})),t},e.prototype.removeLink=function(t){t=this.getLink(t),delete this.links[t.getID()],this.iterateListeners((function(e,n){e.linksUpdated&&e.linksUpdated(i({},n,{link:t,isCreated:!1}))}))},e.prototype.removeNode=function(t){t=this.getNode(t),delete this.nodes[t.getID()],this.iterateListeners((function(e,n){e.nodesUpdated&&e.nodesUpdated(i({},n,{node:t,isCreated:!1}))}))},e.prototype.getLinks=function(){return this.links},e.prototype.getNodes=function(){return this.nodes},e}(a.BaseEntity);e.DiagramModel=d},function(t,e,n){function r(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),r(n(7)),r(n(13)),r(n(49)),r(n(38)),r(n(20)),r(n(19)),r(n(18)),r(n(48)),r(n(47)),r(n(43)),r(n(41)),r(n(37)),r(n(39)),r(n(35)),r(n(34)),r(n(8)),r(n(40)),r(n(36)),r(n(32)),r(n(42)),r(n(16)),r(n(11)),r(n(31)),r(n(30)),r(n(29)),r(n(6)),r(n(44)),r(n(21)),r(n(9)),r(n(5)),r(n(12)),r(n(17)),r(n(46)),r(n(27)),r(n(25)),r(n(33)),r(n(3)),r(n(28)),r(n(26))},function(t,e,r){var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t};Object.defineProperty(e,"__esModule",{value:!0});var a=r(1),s=n(96486),u=r(28),c=r(26),l=r(7),f=r(31),d=r(30),p=r(29),h=r(9),g=r(5),v=r(12),y=function(t){function e(e){var n=t.call(this,"srd-diagram",e)||this;return n.onKeyUpPointer=null,n.onMouseMove=n.onMouseMove.bind(n),n.onMouseUp=n.onMouseUp.bind(n),n.state={action:null,wasMoved:!1,renderedNodes:!1,windowListener:null,diagramEngineListener:null,document:null},n}return o(e,t),e.prototype.componentWillUnmount=function(){this.props.diagramEngine.removeListener(this.state.diagramEngineListener),this.props.diagramEngine.setCanvas(null),window.removeEventListener("keyup",this.onKeyUpPointer),window.removeEventListener("mouseUp",this.onMouseUp),window.removeEventListener("mouseMove",this.onMouseMove)},e.prototype.componentWillReceiveProps=function(t){var e=this;if(this.props.diagramEngine!==t.diagramEngine){this.props.diagramEngine.removeListener(this.state.diagramEngineListener);var n=t.diagramEngine.addListener({repaintCanvas:function(){return e.forceUpdate()}});this.setState({diagramEngineListener:n})}},e.prototype.componentWillUpdate=function(t){this.props.diagramEngine.diagramModel.id!==t.diagramEngine.diagramModel.id&&(this.setState({renderedNodes:!1}),t.diagramEngine.diagramModel.rendered=!0),t.diagramEngine.diagramModel.rendered||(this.setState({renderedNodes:!1}),t.diagramEngine.diagramModel.rendered=!0)},e.prototype.componentDidUpdate=function(){this.state.renderedNodes||this.setState({renderedNodes:!0})},e.prototype.componentDidMount=function(){var t=this;this.onKeyUpPointer=this.onKeyUp.bind(this),this.setState({document:document,renderedNodes:!0,diagramEngineListener:this.props.diagramEngine.addListener({repaintCanvas:function(){t.forceUpdate()}})}),window.addEventListener("keyup",this.onKeyUpPointer,!1),window.focus()},e.prototype.getMouseElement=function(t){var e=t.target,n=this.props.diagramEngine.diagramModel,r=l.Toolkit.closest(e,".port[data-name]");if(r){var o=l.Toolkit.closest(e,".node[data-nodeid]");return{model:n.getNode(o.getAttribute("data-nodeid")).getPort(r.getAttribute("data-name")),element:r}}return(r=l.Toolkit.closest(e,".point[data-id]"))?{model:n.getLink(r.getAttribute("data-linkid")).getPointModel(r.getAttribute("data-id")),element:r}:(r=l.Toolkit.closest(e,"[data-linkid]"))?{model:n.getLink(r.getAttribute("data-linkid")),element:r}:(r=l.Toolkit.closest(e,".node[data-nodeid]"))?{model:n.getNode(r.getAttribute("data-nodeid")),element:r}:null},e.prototype.fireAction=function(){this.state.action&&this.props.actionStillFiring&&this.props.actionStillFiring(this.state.action)},e.prototype.stopFiringAction=function(t){this.props.actionStoppedFiring&&!t&&this.props.actionStoppedFiring(this.state.action),this.setState({action:null})},e.prototype.startFiringAction=function(t){var e=!0;this.props.actionStartedFiring&&(e=this.props.actionStartedFiring(t)),e&&this.setState({action:t})},e.prototype.onMouseMove=function(t){var e=this,n=this.props.diagramEngine,r=n.getDiagramModel();if(this.state.action instanceof p.SelectingAction){var o=n.getRelativePoint(t.clientX,t.clientY);return s.forEach(r.getNodes(),(function(t){e.state.action.containsElement(t.x,t.y,r)&&t.setSelected(!0)})),s.forEach(r.getLinks(),(function(t){var n=!0;s.forEach(t.points,(function(t){e.state.action.containsElement(t.x,t.y,r)?t.setSelected(!0):n=!1})),n&&t.setSelected(!0)})),this.state.action.mouseX2=o.x,this.state.action.mouseY2=o.y,this.fireAction(),void this.setState({action:this.state.action})}if(this.state.action instanceof d.MoveItemsAction){var i=t.clientX-this.state.action.mouseX,a=t.clientY-this.state.action.mouseY,u=r.getZoomLevel()/100;s.forEach(this.state.action.selectionModels,(function(t){t.model instanceof h.NodeModel||t.model instanceof g.PointModel&&!t.model.isConnectedToPort()?(t.model.x=r.getGridPosition(t.initialX+i/u),t.model.y=r.getGridPosition(t.initialY+a/u),t.model instanceof h.NodeModel&&s.forEach(t.model.getPorts(),(function(t){var n=e.props.diagramEngine.getPortCoords(t);t.updateCoords(n)})),n.isSmartRoutingEnabled()&&n.calculateRoutingMatrix()):t.model instanceof g.PointModel&&(t.model.x=t.initialX+r.getGridPosition(i/u),t.model.y=t.initialY+r.getGridPosition(a/u))})),n.isSmartRoutingEnabled()&&n.calculateCanvasMatrix(),this.fireAction(),this.state.wasMoved?this.forceUpdate():this.setState({wasMoved:!0})}else this.state.action instanceof f.MoveCanvasAction&&this.props.allowCanvasTranslation&&(r.setOffset(this.state.action.initialOffsetX+(t.clientX-this.state.action.mouseX),this.state.action.initialOffsetY+(t.clientY-this.state.action.mouseY)),this.fireAction(),this.forceUpdate())},e.prototype.onKeyUp=function(t){var e=this;-1!==this.props.deleteKeys.indexOf(t.keyCode)&&(s.forEach(this.props.diagramEngine.getDiagramModel().getSelectedItems(),(function(t){e.props.diagramEngine.isModelLocked(t)||t.remove()})),this.forceUpdate())},e.prototype.onMouseUp=function(t){var e=this,n=this.props.diagramEngine;if(this.state.action instanceof d.MoveItemsAction){var r=this.getMouseElement(t);s.forEach(this.state.action.selectionModels,(function(t){if(t.model instanceof g.PointModel&&r&&r.model instanceof v.PortModel&&!n.isModelLocked(r.model)){var o=t.model.getLink();if(null!==o.getTargetPort())if(o.getTargetPort()!==r.model&&o.getSourcePort()!==r.model){var i=o.getTargetPort(),a=o.clone({});a.setSourcePort(r.model),a.setTargetPort(i),o.setTargetPort(r.model),i.removeLink(o),a.removePointsBefore(a.getPoints()[o.getPointIndex(t.model)]),o.removePointsAfter(t.model),n.getDiagramModel().addLink(a)}else o.getTargetPort()===r.model?o.removePointsAfter(t.model):o.getSourcePort()===r.model&&o.removePointsBefore(t.model);else o.setTargetPort(r.model);delete e.props.diagramEngine.linksThatHaveInitiallyRendered[o.getID()]}})),!this.props.allowLooseLinks&&this.state.wasMoved&&s.forEach(this.state.action.selectionModels,(function(t){if(t.model instanceof g.PointModel){var e=t.model.getLink();null!==e.getSourcePort()&&null!==e.getTargetPort()||e.remove()}})),s.forEach(this.state.action.selectionModels,(function(t){if(t.model instanceof g.PointModel){var e=t.model.getLink(),n=e.getSourcePort(),r=e.getTargetPort();null!==n&&null!==r&&(n.canLinkToPort(r)?s.some(s.values(r.getLinks()),(function(t){return t!==e&&(t.getSourcePort()===n||t.getTargetPort()===n)}))&&e.remove():e.remove())}})),n.clearRepaintEntities(),this.stopFiringAction(!this.state.wasMoved)}else n.clearRepaintEntities(),this.stopFiringAction();this.state.document.removeEventListener("mousemove",this.onMouseMove),this.state.document.removeEventListener("mouseup",this.onMouseUp)},e.prototype.drawSelectionBox=function(){var t=this.state.action.getBoxDimensions();return a.createElement("div",{className:this.bem("__selector"),style:{top:t.top,left:t.left,width:t.width,height:t.height}})},e.prototype.render=function(){var t=this,e=this.props.diagramEngine;e.setMaxNumberPointsPerLink(this.props.maxNumberPointsPerLink),e.setSmartRoutingStatus(this.props.smartRouting);var n=e.getDiagramModel();return a.createElement("div",i({},this.getProps(),{ref:function(e){e&&t.props.diagramEngine.setCanvas(e)},onWheel:function(r){if(t.props.allowCanvasZoom){r.preventDefault(),r.stopPropagation();var o=n.getZoomLevel()/100,i=t.props.inverseZoom?-r.deltaY:r.deltaY;r.ctrlKey&&i%1!==0?i/=3:i/=60,n.getZoomLevel()+i>10&&n.setZoomLevel(n.getZoomLevel()+i);var a=n.getZoomLevel()/100,s=r.currentTarget.getBoundingClientRect(),u=s.width,c=s.height,l=u*a-u*o,f=c*a-c*o,d=r.clientX-s.left,p=r.clientY-s.top,h=(d-n.getOffsetX())/o/u,g=(p-n.getOffsetY())/o/c;n.setOffset(n.getOffsetX()-l*h,n.getOffsetY()-f*g),e.enableRepaintEntities([]),t.forceUpdate()}},onMouseDown:function(r){t.setState(i({},t.state,{wasMoved:!1})),e.clearRepaintEntities();var o=t.getMouseElement(r);if(null===o)if(r.shiftKey){var a=e.getRelativePoint(r.clientX,r.clientY);t.startFiringAction(new p.SelectingAction(a.x,a.y))}else n.clearSelection(),t.startFiringAction(new f.MoveCanvasAction(r.clientX,r.clientY,n));else if(o.model instanceof v.PortModel)if(t.props.diagramEngine.isModelLocked(o.model))n.clearSelection();else{a=e.getRelativeMousePoint(r);var s=o.model,u=s.createLinkModel();u.setSourcePort(s),u&&(u.removeMiddlePoints(),u.getSourcePort()!==s&&u.setSourcePort(s),u.setTargetPort(null),u.getFirstPoint().updateLocation(a),u.getLastPoint().updateLocation(a),n.clearSelection(),u.getLastPoint().setSelected(!0),n.addLink(u),t.startFiringAction(new d.MoveItemsAction(r.clientX,r.clientY,e)))}else r.shiftKey||o.model.isSelected()||n.clearSelection(),o.model.setSelected(!0),t.startFiringAction(new d.MoveItemsAction(r.clientX,r.clientY,e));t.state.document.addEventListener("mousemove",t.onMouseMove),t.state.document.addEventListener("mouseup",t.onMouseUp)}}),this.state.renderedNodes&&a.createElement(u.LinkLayerWidget,{diagramEngine:e,pointAdded:function(r,o){t.state.document.addEventListener("mousemove",t.onMouseMove),t.state.document.addEventListener("mouseup",t.onMouseUp),o.stopPropagation(),n.clearSelection(r),t.setState({action:new d.MoveItemsAction(o.clientX,o.clientY,e)})}}),a.createElement(c.NodeLayerWidget,{diagramEngine:e}),this.state.action instanceof p.SelectingAction&&this.drawSelectionBox())},e.defaultProps={diagramEngine:null,allowLooseLinks:!0,allowCanvasTranslation:!0,allowCanvasZoom:!0,inverseZoom:!1,maxNumberPointsPerLink:1/0,smartRouting:!1,deleteKeys:[46,8]},e}(r(3).BaseWidget);e.DiagramWidget=y},function(t,e,n){var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(38),i=n(1),a=n(35),s=function(t){function e(){return t.call(this,"default")||this}return r(e,t),e.prototype.generateReactWidget=function(t,e){return i.createElement(a.DefaultNodeWidget,{node:e,diagramEngine:t})},e.prototype.getNewInstance=function(t){return new o.DefaultNodeModel},e}(n(32).AbstractNodeFactory);e.DefaultNodeFactory=s},function(t,e,n){var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(1),i=n(37),a=n(36),s=n(19),u=function(t){function e(){return t.call(this,"default")||this}return r(e,t),e.prototype.generateReactWidget=function(t,e){return o.createElement(i.DefaultLinkWidget,{link:e,diagramEngine:t})},e.prototype.getNewInstance=function(t){return new s.DefaultLinkModel},e.prototype.generateLinkSegment=function(t,e,n,r){return o.createElement("path",{className:n?e.bem("--path-selected"):"",strokeWidth:t.width,stroke:t.color,d:r})},e}(a.AbstractLinkFactory);e.DefaultLinkFactory=u},function(t,e,r){var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=r(13),a=r(44),s=n(96486),u=r(9),c=r(5),l=r(45),f=r(16),d=r(43),p=r(41),h=r(7),g=function(t){function e(){var e=t.call(this)||this;return e.canvasMatrix=[],e.routingMatrix=[],e.hAdjustmentFactor=0,e.vAdjustmentFactor=0,e.calculateMatrixDimensions=function(){var t=s.values(e.diagramModel.nodes).map((function(t){return{x:t.x,width:t.width,y:t.y,height:t.height}})),n=s.values(e.diagramModel.links),r=s.flatMap(n.map((function(t){return[t.sourcePort,t.targetPort]}))).filter((function(t){return null!==t})).map((function(t){return{x:t.x,width:t.width,y:t.y,height:t.height}})),o=s.flatMap(n.map((function(t){return t.points}))).map((function(t){return{x:t.x,width:0,y:t.y,height:0}})),i=e.canvas,a=Math.floor(Math.min(s.minBy(s.concat(t,r,o),(function(t){return t.x})).x,0)/f.ROUTING_SCALING_FACTOR)*f.ROUTING_SCALING_FACTOR,u=s.maxBy(s.concat(t,r,o),(function(t){return t.x+t.width})),c=Math.max(u.x+u.width,i.offsetWidth),l=Math.floor(Math.min(s.minBy(s.concat(t,r,o),(function(t){return t.y})).y,0)/f.ROUTING_SCALING_FACTOR)*f.ROUTING_SCALING_FACTOR,d=s.maxBy(s.concat(t,r,o),(function(t){return t.y+t.height})),p=Math.max(d.y+d.height,i.offsetHeight);return{width:Math.ceil(Math.abs(a)+c),hAdjustmentFactor:Math.abs(a)/f.ROUTING_SCALING_FACTOR+1,height:Math.ceil(Math.abs(l)+p),vAdjustmentFactor:Math.abs(l)/f.ROUTING_SCALING_FACTOR+1}},e.markNodes=function(t){s.values(e.diagramModel.nodes).forEach((function(n){for(var r=Math.floor(n.x/f.ROUTING_SCALING_FACTOR),o=Math.ceil((n.x+n.width)/f.ROUTING_SCALING_FACTOR),i=Math.floor(n.y/f.ROUTING_SCALING_FACTOR),a=Math.ceil((n.y+n.height)/f.ROUTING_SCALING_FACTOR),s=r-1;s<=o+1;s++)for(var u=i-1;u<a+1;u++)e.markMatrixPoint(t,e.translateRoutingX(s),e.translateRoutingY(u))}))},e.markPorts=function(t){s.flatMap(s.values(e.diagramModel.links).map((function(t){return[].concat(t.sourcePort,t.targetPort)}))).filter((function(t){return null!==t})).forEach((function(n){for(var r=Math.floor(n.x/f.ROUTING_SCALING_FACTOR),o=Math.ceil((n.x+n.width)/f.ROUTING_SCALING_FACTOR),i=Math.floor(n.y/f.ROUTING_SCALING_FACTOR),a=Math.ceil((n.y+n.height)/f.ROUTING_SCALING_FACTOR),s=r-1;s<=o+1;s++)for(var u=i-1;u<a+1;u++)e.markMatrixPoint(t,e.translateRoutingX(s),e.translateRoutingY(u))}))},e.markMatrixPoint=function(t,e,n){void 0!==t[n]&&void 0!==t[n][e]&&(t[n][e]=1)},e.diagramModel=new a.DiagramModel,e.nodeFactories={},e.linkFactories={},e.portFactories={},e.labelFactories={},e.canvas=null,e.paintableWidgets=null,e.linksThatHaveInitiallyRendered={},h.Toolkit.TESTING&&(h.Toolkit.TESTING_UID=0,window&&(window.diagram_instance=e)),e}return o(e,t),e.prototype.installDefaultFactories=function(){this.registerNodeFactory(new l.DefaultNodeFactory),this.registerLinkFactory(new l.DefaultLinkFactory),this.registerPortFactory(new d.DefaultPortFactory),this.registerLabelFactory(new p.DefaultLabelFactory)},e.prototype.repaintCanvas=function(){this.iterateListeners((function(t){t.repaintCanvas&&t.repaintCanvas()}))},e.prototype.clearRepaintEntities=function(){this.paintableWidgets=null},e.prototype.enableRepaintEntities=function(t){var e=this;this.paintableWidgets={},t.forEach((function(t){t instanceof u.NodeModel&&s.forEach(t.getPorts(),(function(t){s.forEach(t.getLinks(),(function(t){e.paintableWidgets[t.getID()]=!0}))})),t instanceof c.PointModel&&(e.paintableWidgets[t.getLink().getID()]=!0),e.paintableWidgets[t.getID()]=!0}))},e.prototype.isModelLocked=function(t){return!!this.diagramModel.isLocked()||t.isLocked()},e.prototype.recalculatePortsVisually=function(){this.nodesRendered=!1,this.linksThatHaveInitiallyRendered={}},e.prototype.canEntityRepaint=function(t){return null===this.paintableWidgets||void 0!==this.paintableWidgets[t.getID()]},e.prototype.setCanvas=function(t){this.canvas=t},e.prototype.setDiagramModel=function(t){this.diagramModel=t,this.recalculatePortsVisually()},e.prototype.getDiagramModel=function(){return this.diagramModel},e.prototype.getNodeFactories=function(){return this.nodeFactories},e.prototype.getLinkFactories=function(){return this.linkFactories},e.prototype.getLabelFactories=function(){return this.labelFactories},e.prototype.registerLabelFactory=function(t){this.labelFactories[t.getType()]=t,this.iterateListeners((function(t){t.labelFactoriesUpdated&&t.labelFactoriesUpdated()}))},e.prototype.registerPortFactory=function(t){this.portFactories[t.getType()]=t,this.iterateListeners((function(t){t.portFactoriesUpdated&&t.portFactoriesUpdated()}))},e.prototype.registerNodeFactory=function(t){this.nodeFactories[t.getType()]=t,this.iterateListeners((function(t){t.nodeFactoriesUpdated&&t.nodeFactoriesUpdated()}))},e.prototype.registerLinkFactory=function(t){this.linkFactories[t.getType()]=t,this.iterateListeners((function(t){t.linkFactoriesUpdated&&t.linkFactoriesUpdated()}))},e.prototype.getPortFactory=function(t){if(this.portFactories[t])return this.portFactories[t];throw new Error("cannot find factory for port of type: ["+t+"]")},e.prototype.getNodeFactory=function(t){if(this.nodeFactories[t])return this.nodeFactories[t];throw new Error("cannot find factory for node of type: ["+t+"]")},e.prototype.getLinkFactory=function(t){if(this.linkFactories[t])return this.linkFactories[t];throw new Error("cannot find factory for link of type: ["+t+"]")},e.prototype.getLabelFactory=function(t){if(this.labelFactories[t])return this.labelFactories[t];throw new Error("cannot find factory for label of type: ["+t+"]")},e.prototype.getFactoryForNode=function(t){return this.getNodeFactory(t.getType())},e.prototype.getFactoryForLink=function(t){return this.getLinkFactory(t.getType())},e.prototype.getFactoryForLabel=function(t){return this.getLabelFactory(t.getType())},e.prototype.generateWidgetForLink=function(t){var e=this.getFactoryForLink(t);if(!e)throw new Error("Cannot find link factory for link: "+t.getType());return e.generateReactWidget(this,t)},e.prototype.generateWidgetForNode=function(t){var e=this.getFactoryForNode(t);if(!e)throw new Error("Cannot find widget factory for node: "+t.getType());return e.generateReactWidget(this,t)},e.prototype.getRelativeMousePoint=function(t){var e=this.getRelativePoint(t.clientX,t.clientY);return{x:(e.x-this.diagramModel.getOffsetX())/(this.diagramModel.getZoomLevel()/100),y:(e.y-this.diagramModel.getOffsetY())/(this.diagramModel.getZoomLevel()/100)}},e.prototype.getRelativePoint=function(t,e){var n=this.canvas.getBoundingClientRect();return{x:t-n.left,y:e-n.top}},e.prototype.getNodeElement=function(t){var e=this.canvas.querySelector('.node[data-nodeid="'+t.getID()+'"]');if(null===e)throw new Error("Cannot find Node element with nodeID: ["+t.getID()+"]");return e},e.prototype.getNodePortElement=function(t){var e=this.canvas.querySelector('.port[data-name="'+t.getName()+'"][data-nodeid="'+t.getParent().getID()+'"]');if(null===e)throw new Error("Cannot find Node Port element with nodeID: ["+t.getParent().getID()+"] and name: ["+t.getName()+"]");return e},e.prototype.getPortCenter=function(t){var e=this.getNodePortElement(t),n=e.getBoundingClientRect(),r=this.getRelativePoint(n.left,n.top);return{x:e.offsetWidth/2+(r.x-this.diagramModel.getOffsetX())/(this.diagramModel.getZoomLevel()/100),y:e.offsetHeight/2+(r.y-this.diagramModel.getOffsetY())/(this.diagramModel.getZoomLevel()/100)}},e.prototype.getPortCoords=function(t){var e=this.getNodePortElement(t).getBoundingClientRect(),n=this.canvas.getBoundingClientRect();return{x:(e.x-this.diagramModel.getOffsetX())/(this.diagramModel.getZoomLevel()/100)-n.left,y:(e.y-this.diagramModel.getOffsetY())/(this.diagramModel.getZoomLevel()/100)-n.top,width:e.width,height:e.height}},e.prototype.getNodeDimensions=function(t){if(!this.canvas)return{width:0,height:0};var e=this.getNodeElement(t).getBoundingClientRect();return{width:e.width,height:e.height}},e.prototype.getMaxNumberPointsPerLink=function(){return this.maxNumberPointsPerLink},e.prototype.setMaxNumberPointsPerLink=function(t){this.maxNumberPointsPerLink=t},e.prototype.isSmartRoutingEnabled=function(){return!!this.smartRouting},e.prototype.setSmartRoutingStatus=function(t){this.smartRouting=t},e.prototype.getCanvasMatrix=function(){return 0===this.canvasMatrix.length&&this.calculateCanvasMatrix(),this.canvasMatrix},e.prototype.calculateCanvasMatrix=function(){var t=this.calculateMatrixDimensions(),e=t.width,n=t.hAdjustmentFactor,r=t.height,o=t.vAdjustmentFactor;this.hAdjustmentFactor=n,this.vAdjustmentFactor=o;var i=Math.ceil(e/f.ROUTING_SCALING_FACTOR),a=Math.ceil(r/f.ROUTING_SCALING_FACTOR);this.canvasMatrix=s.range(0,a).map((function(){return new Array(i).fill(0)}))},e.prototype.getRoutingMatrix=function(){return 0===this.routingMatrix.length&&this.calculateRoutingMatrix(),this.routingMatrix},e.prototype.calculateRoutingMatrix=function(){var t=s.cloneDeep(this.getCanvasMatrix());this.markNodes(t),this.markPorts(t),this.routingMatrix=t},e.prototype.translateRoutingX=function(t,e){return void 0===e&&(e=!1),t+this.hAdjustmentFactor*(e?-1:1)},e.prototype.translateRoutingY=function(t,e){return void 0===e&&(e=!1),t+this.vAdjustmentFactor*(e?-1:1)},e.prototype.zoomToFit=function(){var t=this.canvas.clientWidth/this.canvas.scrollWidth,e=this.canvas.clientHeight/this.canvas.scrollHeight,n=t<e?t:e;this.diagramModel.setZoomLevel(this.diagramModel.getZoomLevel()*n),this.diagramModel.setOffset(0,0),this.repaintCanvas()},e}(i.BaseEntity);e.DiagramEngine=g},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(u){o=!0,i=u}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=function(t){return t*t},i=function(t,e){var n=r(t,2),i=n[0],a=n[1],s=r(e,2),u=s[0],c=s[1];return Math.sqrt(o(i-u)+o(a-c))};e.default={distPointToPoint:i,distPointToParabol:function(t,e){var n=i(t,e);return 0==n?1/0:o(n)/(2*Math.abs(t[1]-e[1]))},circumCenter:function(t,e,n){var r=(t[0]-n[0])*(e[1]-n[1])-(e[0]-n[0])*(t[1]-n[1]);return 0==r?[1/0,1/0]:[(((t[0]-n[0])*(t[0]+n[0])+(t[1]-n[1])*(t[1]+n[1]))/2*(e[1]-n[1])-((e[0]-n[0])*(e[0]+n[0])+(e[1]-n[1])*(e[1]+n[1]))/2*(t[1]-n[1]))/r,(((e[0]-n[0])*(e[0]+n[0])+(e[1]-n[1])*(e[1]+n[1]))/2*(t[0]-n[0])-((t[0]-n[0])*(t[0]+n[0])+(t[1]-n[1])*(t[1]+n[1]))/2*(e[0]-n[0]))/r]},parabolsCrossX:function(t,e,n){if(t[1]===e[1])return[(t[0]+e[0])/2,(t[0]+e[0])/2];var r=(t[1]*e[0]-t[0]*e[1]+t[0]*n-e[0]*n+Math.sqrt((t[0]*t[0]+t[1]*t[1]-2*t[0]*e[0]+e[0]*e[0]-2*t[1]*e[1]+e[1]*e[1])*(t[1]*e[1]-t[1]*n-e[1]*n+n*n)))/(t[1]-e[1]),o=(t[1]*e[0]-t[0]*e[1]+t[0]*n-e[0]*n-Math.sqrt((t[0]*t[0]+t[1]*t[1]-2*t[0]*e[0]+e[0]*e[0]-2*t[1]*e[1]+e[1]*e[1])*(t[1]*e[1]-t[1]*n-e[1]*n+n*n)))/(t[1]-e[1]);return r<o?[r,o]:[o,r]},doHalflinesCross:function(t,e){var n=arguments.length<=2||void 0===arguments[2]?1e-10:arguments[2],r=e.ps[0]-t.ps[0],o=e.ps[1]-t.ps[1];if(t.m==1/0)return t.hp*(e.m*r-o)<=n&&e.vec[0]*r<=n;if(e.m==1/0)return e.hp*(t.m*r-o)>=-n&&t.vec[0]*r>=-n;var i=e.vec[0]*t.vec[1]-e.vec[1]*t.vec[0];if(0===i)return!1;var a=(o*e.vec[0]-r*e.vec[1])/i,s=(o*t.vec[0]-r*t.vec[1])/i;return a>=-n&&s>=n||a>=n&&s>=-n},matrixTransform:function(t,e){return t.map((function(t){return{x:t.x*e[0]+t.y*e[2]+e[4],y:t.x*e[1]+t.y*e[3]+e[5]}}))},transformEllipse:function(t,e,n,r){var o=Math.PI/180,i=1e-10,a=Math.cos(n*o),s=Math.sin(n*o),u=[t*(r[0]*a+r[2]*s),t*(r[1]*a+r[3]*s),e*(-r[0]*s+r[2]*a),e*(-r[1]*s+r[3]*a)],c=u[0]*u[0]+u[2]*u[2],l=u[1]*u[1]+u[3]*u[3],f=((u[0]-u[3])*(u[0]-u[3])+(u[2]+u[1])*(u[2]+u[1]))*((u[0]+u[3])*(u[0]+u[3])+(u[2]-u[1])*(u[2]-u[1])),d=(c+l)/2;if(f<i*d)return{rx:Math.sqrt(d),ry:Math.sqrt(d),ax:0,isDegenerate:!1};var p=u[0]*u[1]+u[2]*u[3],h=d+(f=Math.sqrt(f))/2,g=d-f/2,v=void 0,y=void 0,m=void 0;return(v=Math.abs(p)<i&&Math.abs(h-l)<i?90:180*Math.atan(Math.abs(p)>Math.abs(h-l)?(h-c)/p:p/(h-l))/Math.PI)>=0?(y=Math.sqrt(h),m=Math.sqrt(g)):(v+=90,y=Math.sqrt(g),m=Math.sqrt(h)),{rx:y,ry:m,ax:v,isDegenerate:y<i*m||m<i*y}}},t.exports=e.default},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(u){o=!0,i=u}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=n(50),i=function t(e){var n=e||[],i=function(t){return t.command+" "+t.params.map((function(t){return e=6,function(t,e){for(var n=t.length;"0"===t.charAt(n-1);)n-=1;return"."===t.charAt(n-1)&&(n-=1),t.substr(0,n)}(t.toFixed(e));var e})).join(" ")},a=function(t,e){var n=t.command,r=t.params;switch(n){case"M":case"L":case"T":return[r[0],r[1]];case"H":return[r[0],e[1]];case"V":return[e[0],r[0]];case"Z":return null;case"C":return[r[4],r[5]];case"S":case"Q":return[r[2],r[3]];case"A":return[r[5],r[6]]}},u=function(t,e,n){var r=t.params,i={V:function(t,e,n){var i=[{x:n[0],y:r[1]}],a=(0,o.matrixTransform)(i,e);return a[0].x===(0,o.matrixTransform)([{x:n[0],y:n[1]}])[0].x?{command:"V",params:[a[0].y]}:{command:"L",params:[a[0].x,a[0].y]}},H:function(t,e,n){var i=[{x:r[0],y:n[1]}],a=(0,o.matrixTransform)(i,e);return a[0].y===(0,o.matrixTransform)([{x:n[0],y:n[1]}])[0].y?{command:"H",params:[a[0].x]}:{command:"L",params:[a[0].x,a[0].y]}},A:function(t,e,n){var i=(0,o.transformEllipse)(r[0],r[1],r[2],e),a=r[4];e[0]*e[3]-e[1]*e[2]<0&&(a=a?"0":"1");var s=[{x:r[5],y:r[6]}],u=(0,o.matrixTransform)(s,e);return i.isDegenerate?{command:"L",params:[u[0].x,u[0].y]}:{command:"A",params:[i.rx,i.ry,i.ax,r[3],a,u[0].x,u[0].y]}},C:function(t,e,n){var i=[{x:r[0],y:r[1]},{x:r[2],y:r[3]},{x:r[4],y:r[5]}],a=(0,o.matrixTransform)(i,e);return{command:"C",params:[a[0].x,a[0].y,a[1].x,a[1].y,a[2].x,a[2].y]}},Z:function(t,e,n){return{command:"Z",params:[]}},default:function(t,e,n){var i=[{x:r[0],y:r[1]}],a=(0,o.matrixTransform)(i,e),s=t.params.slice(0,t.params.length);return s.splice(0,2,a[0].x,a[0].y),{command:t.command,params:s}}};return i[t.command]?i[t.command](t,e,n):i.default(t,e,n)},c=function(t,e){return function(n){var r="object"===(0,s.default)(n)?t.map((function(t){return n[t]})):arguments;return e.apply(null,r)}},l=function(e){return t(function(t,e){var n=t.slice(0,t.length);return n.push(e),n}(n,e))};return{moveto:c(["x","y"],(function(t,e){return l({command:"M",params:[t,e]})})),lineto:c(["x","y"],(function(t,e){return l({command:"L",params:[t,e]})})),hlineto:c(["x"],(function(t){return l({command:"H",params:[t]})})),vlineto:c(["y"],(function(t){return l({command:"V",params:[t]})})),closepath:function(){return l({command:"Z",params:[]})},curveto:c(["x1","y1","x2","y2","x","y"],(function(t,e,n,r,o,i){return l({command:"C",params:[t,e,n,r,o,i]})})),smoothcurveto:c(["x2","y2","x","y"],(function(t,e,n,r){return l({command:"S",params:[t,e,n,r]})})),qcurveto:c(["x1","y1","x","y"],(function(t,e,n,r){return l({command:"Q",params:[t,e,n,r]})})),smoothqcurveto:c(["x","y"],(function(t,e){return l({command:"T",params:[t,e]})})),arc:c(["rx","ry","xrot","largeArcFlag","sweepFlag","x","y"],(function(t,e,n,r,o,i,a){return l({command:"A",params:[t,e,n,r,o,i,a]})})),translate:c(["dx","dy"],(function(){var e=arguments.length<=0||void 0===arguments[0]?0:arguments[0],r=arguments.length<=1||void 0===arguments[1]?0:arguments[1];if(0===e&&0===e)return t(n);var o=function(){var o=[0,0],i=[1,0,0,1,e,r],s=n.map((function(t){var e=u(t,i,o);return o=a(t,o),e}));return{v:t(s)}}();return"object"===(0,s.default)(o)?o.v:void 0})),rotate:c(["angle","rx","ry"],(function(e){var r=arguments.length<=1||void 0===arguments[1]?0:arguments[1],o=arguments.length<=2||void 0===arguments[2]?0:arguments[2];if(0===e)return t(n);var i=function(){var i=void 0,s=void 0,c=n;0!==r&&0!==o&&(i=[0,0],s=[1,0,0,1,-r,-o],c=c.map((function(t){var e=u(t,s,i);return i=a(t,i),e})));var l=e*Math.PI/180,f=Math.cos(l),d=Math.sin(l);return i=[0,0],s=[f,d,-d,f,0,0],c=c.map((function(t){var e=u(t,s,i);return i=a(t,i),e})),0!==r&&0!==o&&(i=[0,0],s=[1,0,0,1,r,o],c=c.map((function(t){var e=u(t,s,i);return i=a(t,i),e}))),{v:t(c)}}();return"object"===(0,s.default)(i)?i.v:void 0})),scale:c(["sx","sy"],(function(){var e=arguments.length<=0||void 0===arguments[0]?1:arguments[0],r=arguments.length<=1||void 0===arguments[1]?e:arguments[1];return function(){if(1===e&&1===r)return t(n);var o=function(){var o=[0,0],i=[e,0,0,r,0,0],s=n.map((function(t){var e=u(t,i,o);return o=a(t,o),e}));return{v:t(s)}}();return"object"===(0,s.default)(o)?o.v:void 0}()})),shearX:c(["angle"],(function(){var e=arguments.length<=0||void 0===arguments[0]?0:arguments[0];if(0===e)return t(n);var r=function(){var r=[0,0],o=[1,0,Math.tan(e*Math.PI/180),1,0,0],i=n.map((function(t){var e=u(t,o,r);return r=a(t,r),e}));return{v:t(i)}}();return"object"===(0,s.default)(r)?r.v:void 0})),shearY:c(["angle"],(function(){var e=arguments.length<=0||void 0===arguments[0]?0:arguments[0];if(0===e)return t(n);var r=function(){var r=[0,0],o=[1,Math.tan(e*Math.PI/180),0,1,0,0],i=n.map((function(t){var e=u(t,o,r);return r=a(t,r),e}));return{v:t(i)}}();return"object"===(0,s.default)(r)?r.v:void 0})),print:function(){return n.map(i).join(" ")},toString:function(){return(void 0).print()},points:function(){var t=[],e=[0,0],r=!0,o=!1,i=void 0;try{for(var s,u=n[Symbol.iterator]();!(r=(s=u.next()).done);r=!0){var c=s.value,l=a(c,e);e=l,l&&t.push(l)}}catch(f){o=!0,i=f}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}return t},instructions:function(){return n.slice(0,n.length)},connect:function(e){var o=this.points(),i=o[o.length-1],a=e.points()[0],s=void 0;return"Z"!==n[n.length-1].command?(s=e.instructions().slice(1),function(t,e){var n=r(t,2),o=n[0],i=n[1],a=r(e,2),s=a[0],u=a[1];return o===s&&i===u}(i,a)||s.unshift({command:"L",params:a})):s=e.instructions(),t(this.instructions().concat(s))}}};e.default=function(){return i()},t.exports=e.default},function(t,e,n){var r=n(14),o=n(2);function i(t){r.call(this,t)}i.prototype=new r,i.prototype.constructor=i,i.prototype._jump=function(t,e,n,r){var o=this.grid,i=t-n,a=e-r;if(!o.isWalkableAt(t,e))return null;if(!0===this.trackJumpRecursion&&(o.getNodeAt(t,e).tested=!0),o.getNodeAt(t,e)===this.endNode)return[t,e];if(0!==i&&0!==a){if(o.isWalkableAt(t-i,e+a)&&!o.isWalkableAt(t-i,e)||o.isWalkableAt(t+i,e-a)&&!o.isWalkableAt(t,e-a))return[t,e];if(this._jump(t+i,e,t,e)||this._jump(t,e+a,t,e))return[t,e]}else if(0!==i){if(o.isWalkableAt(t+i,e+1)&&!o.isWalkableAt(t,e+1)||o.isWalkableAt(t+i,e-1)&&!o.isWalkableAt(t,e-1))return[t,e]}else if(o.isWalkableAt(t+1,e+a)&&!o.isWalkableAt(t+1,e)||o.isWalkableAt(t-1,e+a)&&!o.isWalkableAt(t-1,e))return[t,e];return o.isWalkableAt(t+i,e)||o.isWalkableAt(t,e+a)?this._jump(t+i,e+a,t,e):null},i.prototype._findNeighbors=function(t){var e,n,r,i,a,s,u,c,l=t.parent,f=t.x,d=t.y,p=this.grid,h=[];if(l)e=l.x,n=l.y,r=(f-e)/Math.max(Math.abs(f-e),1),i=(d-n)/Math.max(Math.abs(d-n),1),0!==r&&0!==i?(p.isWalkableAt(f,d+i)&&h.push([f,d+i]),p.isWalkableAt(f+r,d)&&h.push([f+r,d]),(p.isWalkableAt(f,d+i)||p.isWalkableAt(f+r,d))&&h.push([f+r,d+i]),!p.isWalkableAt(f-r,d)&&p.isWalkableAt(f,d+i)&&h.push([f-r,d+i]),!p.isWalkableAt(f,d-i)&&p.isWalkableAt(f+r,d)&&h.push([f+r,d-i])):0===r?p.isWalkableAt(f,d+i)&&(h.push([f,d+i]),p.isWalkableAt(f+1,d)||h.push([f+1,d+i]),p.isWalkableAt(f-1,d)||h.push([f-1,d+i])):p.isWalkableAt(f+r,d)&&(h.push([f+r,d]),p.isWalkableAt(f,d+1)||h.push([f+r,d+1]),p.isWalkableAt(f,d-1)||h.push([f+r,d-1]));else for(u=0,c=(a=p.getNeighbors(t,o.IfAtMostOneObstacle)).length;u<c;++u)s=a[u],h.push([s.x,s.y]);return h},t.exports=i},function(t,e,n){var r=n(14),o=n(2);function i(t){r.call(this,t)}i.prototype=new r,i.prototype.constructor=i,i.prototype._jump=function(t,e,n,r){var o=this.grid,i=t-n,a=e-r;if(!o.isWalkableAt(t,e))return null;if(!0===this.trackJumpRecursion&&(o.getNodeAt(t,e).tested=!0),o.getNodeAt(t,e)===this.endNode)return[t,e];if(0!==i&&0!==a){if(this._jump(t+i,e,t,e)||this._jump(t,e+a,t,e))return[t,e]}else if(0!==i){if(o.isWalkableAt(t,e-1)&&!o.isWalkableAt(t-i,e-1)||o.isWalkableAt(t,e+1)&&!o.isWalkableAt(t-i,e+1))return[t,e]}else if(0!==a&&(o.isWalkableAt(t-1,e)&&!o.isWalkableAt(t-1,e-a)||o.isWalkableAt(t+1,e)&&!o.isWalkableAt(t+1,e-a)))return[t,e];return o.isWalkableAt(t+i,e)&&o.isWalkableAt(t,e+a)?this._jump(t+i,e+a,t,e):null},i.prototype._findNeighbors=function(t){var e,n,r,i,a,s,u,c,l,f=t.parent,d=t.x,p=t.y,h=this.grid,g=[];if(f){if(e=f.x,n=f.y,r=(d-e)/Math.max(Math.abs(d-e),1),i=(p-n)/Math.max(Math.abs(p-n),1),0!==r&&0!==i)h.isWalkableAt(d,p+i)&&g.push([d,p+i]),h.isWalkableAt(d+r,p)&&g.push([d+r,p]),h.isWalkableAt(d,p+i)&&h.isWalkableAt(d+r,p)&&g.push([d+r,p+i]);else if(0!==r){l=h.isWalkableAt(d+r,p);var v=h.isWalkableAt(d,p+1),y=h.isWalkableAt(d,p-1);l&&(g.push([d+r,p]),v&&g.push([d+r,p+1]),y&&g.push([d+r,p-1])),v&&g.push([d,p+1]),y&&g.push([d,p-1])}else if(0!==i){l=h.isWalkableAt(d,p+i);var m=h.isWalkableAt(d+1,p),b=h.isWalkableAt(d-1,p);l&&(g.push([d,p+i]),m&&g.push([d+1,p+i]),b&&g.push([d-1,p+i])),m&&g.push([d+1,p]),b&&g.push([d-1,p])}}else for(u=0,c=(a=h.getNeighbors(t,o.OnlyWhenNoObstacles)).length;u<c;++u)s=a[u],g.push([s.x,s.y]);return g},t.exports=i},function(t,e,n){var r=n(14),o=n(2);function i(t){r.call(this,t)}i.prototype=new r,i.prototype.constructor=i,i.prototype._jump=function(t,e,n,r){var o=this.grid,i=t-n,a=e-r;if(!o.isWalkableAt(t,e))return null;if(!0===this.trackJumpRecursion&&(o.getNodeAt(t,e).tested=!0),o.getNodeAt(t,e)===this.endNode)return[t,e];if(0!==i&&0!==a){if(o.isWalkableAt(t-i,e+a)&&!o.isWalkableAt(t-i,e)||o.isWalkableAt(t+i,e-a)&&!o.isWalkableAt(t,e-a))return[t,e];if(this._jump(t+i,e,t,e)||this._jump(t,e+a,t,e))return[t,e]}else if(0!==i){if(o.isWalkableAt(t+i,e+1)&&!o.isWalkableAt(t,e+1)||o.isWalkableAt(t+i,e-1)&&!o.isWalkableAt(t,e-1))return[t,e]}else if(o.isWalkableAt(t+1,e+a)&&!o.isWalkableAt(t+1,e)||o.isWalkableAt(t-1,e+a)&&!o.isWalkableAt(t-1,e))return[t,e];return this._jump(t+i,e+a,t,e)},i.prototype._findNeighbors=function(t){var e,n,r,i,a,s,u,c,l=t.parent,f=t.x,d=t.y,p=this.grid,h=[];if(l)e=l.x,n=l.y,r=(f-e)/Math.max(Math.abs(f-e),1),i=(d-n)/Math.max(Math.abs(d-n),1),0!==r&&0!==i?(p.isWalkableAt(f,d+i)&&h.push([f,d+i]),p.isWalkableAt(f+r,d)&&h.push([f+r,d]),p.isWalkableAt(f+r,d+i)&&h.push([f+r,d+i]),p.isWalkableAt(f-r,d)||h.push([f-r,d+i]),p.isWalkableAt(f,d-i)||h.push([f+r,d-i])):0===r?(p.isWalkableAt(f,d+i)&&h.push([f,d+i]),p.isWalkableAt(f+1,d)||h.push([f+1,d+i]),p.isWalkableAt(f-1,d)||h.push([f-1,d+i])):(p.isWalkableAt(f+r,d)&&h.push([f+r,d]),p.isWalkableAt(f,d+1)||h.push([f+r,d+1]),p.isWalkableAt(f,d-1)||h.push([f+r,d-1]));else for(u=0,c=(a=p.getNeighbors(t,o.Always)).length;u<c;++u)s=a[u],h.push([s.x,s.y]);return h},t.exports=i},function(t,e,n){var r=n(14),o=n(2);function i(t){r.call(this,t)}i.prototype=new r,i.prototype.constructor=i,i.prototype._jump=function(t,e,n,r){var o=this.grid,i=t-n,a=e-r;if(!o.isWalkableAt(t,e))return null;if(!0===this.trackJumpRecursion&&(o.getNodeAt(t,e).tested=!0),o.getNodeAt(t,e)===this.endNode)return[t,e];if(0!==i){if(o.isWalkableAt(t,e-1)&&!o.isWalkableAt(t-i,e-1)||o.isWalkableAt(t,e+1)&&!o.isWalkableAt(t-i,e+1))return[t,e]}else{if(0===a)throw new Error("Only horizontal and vertical movements are allowed");if(o.isWalkableAt(t-1,e)&&!o.isWalkableAt(t-1,e-a)||o.isWalkableAt(t+1,e)&&!o.isWalkableAt(t+1,e-a))return[t,e];if(this._jump(t+1,e,t,e)||this._jump(t-1,e,t,e))return[t,e]}return this._jump(t+i,e+a,t,e)},i.prototype._findNeighbors=function(t){var e,n,r,i,a,s,u,c,l=t.parent,f=t.x,d=t.y,p=this.grid,h=[];if(l)e=l.x,n=l.y,r=(f-e)/Math.max(Math.abs(f-e),1),i=(d-n)/Math.max(Math.abs(d-n),1),0!==r?(p.isWalkableAt(f,d-1)&&h.push([f,d-1]),p.isWalkableAt(f,d+1)&&h.push([f,d+1]),p.isWalkableAt(f+r,d)&&h.push([f+r,d])):0!==i&&(p.isWalkableAt(f-1,d)&&h.push([f-1,d]),p.isWalkableAt(f+1,d)&&h.push([f+1,d]),p.isWalkableAt(f,d+i)&&h.push([f,d+i]));else for(u=0,c=(a=p.getNeighbors(t,o.Never)).length;u<c;++u)s=a[u],h.push([s.x,s.y]);return h},t.exports=i},function(t,e,n){var r=n(2),o=n(55),i=n(54),a=n(53),s=n(52);t.exports=function(t){return(t=t||{}).diagonalMovement===r.Never?new o(t):t.diagonalMovement===r.Always?new i(t):t.diagonalMovement===r.OnlyWhenNoObstacles?new a(t):new s(t)}},function(t,e,n){n(4);var r=n(10),o=n(24),i=n(2);function a(t){t=t||{},this.allowDiagonal=t.allowDiagonal,this.dontCrossCorners=t.dontCrossCorners,this.diagonalMovement=t.diagonalMovement,this.heuristic=t.heuristic||r.manhattan,this.weight=t.weight||1,this.trackRecursion=t.trackRecursion||!1,this.timeLimit=t.timeLimit||1/0,this.diagonalMovement||(this.allowDiagonal?this.dontCrossCorners?this.diagonalMovement=i.OnlyWhenNoObstacles:this.diagonalMovement=i.IfAtMostOneObstacle:this.diagonalMovement=i.Never),this.diagonalMovement===i.Never?this.heuristic=t.heuristic||r.manhattan:this.heuristic=t.heuristic||r.octile}a.prototype.findPath=function(t,e,n,r,i){var a,s,u,c=(new Date).getTime(),l=function(t,e){return this.heuristic(Math.abs(e.x-t.x),Math.abs(e.y-t.y))}.bind(this),f=function(t,e,n,r,a){if(this.timeLimit>0&&(new Date).getTime()-c>1e3*this.timeLimit)return 1/0;var s,u,d,h,g=e+l(t,p)*this.weight;if(g>n)return g;if(t==p)return r[a]=[t.x,t.y],t;var v,y,m=i.getNeighbors(t,this.diagonalMovement);for(d=0,s=1/0;h=m[d];++d){if(this.trackRecursion&&(h.retainCount=h.retainCount+1||1,!0!==h.tested&&(h.tested=!0)),(u=f(h,e+(y=h,(v=t).x===y.x||v.y===y.y?1:Math.SQRT2),n,r,a+1))instanceof o)return r[a]=[t.x,t.y],u;this.trackRecursion&&0===--h.retainCount&&(h.tested=!1),u<s&&(s=u)}return s}.bind(this),d=i.getNodeAt(t,e),p=i.getNodeAt(n,r),h=l(d,p);for(a=0;;++a){if((u=f(d,0,h,s=[],0))===1/0)return[];if(u instanceof o)return s;h=u}return[]},t.exports=a},function(t,e,n){var r=n(22);function o(t){r.call(this,t),this.heuristic=function(t,e){return 0}}o.prototype=new r,o.prototype.constructor=o,t.exports=o},function(t,e,n){var r=n(4),o=n(2);function i(t){t=t||{},this.allowDiagonal=t.allowDiagonal,this.dontCrossCorners=t.dontCrossCorners,this.diagonalMovement=t.diagonalMovement,this.diagonalMovement||(this.allowDiagonal?this.dontCrossCorners?this.diagonalMovement=o.OnlyWhenNoObstacles:this.diagonalMovement=o.IfAtMostOneObstacle:this.diagonalMovement=o.Never)}i.prototype.findPath=function(t,e,n,o,i){var a,s,u,c,l,f=i.getNodeAt(t,e),d=i.getNodeAt(n,o),p=[],h=[],g=this.diagonalMovement;for(p.push(f),f.opened=!0,f.by=0,h.push(d),d.opened=!0,d.by=1;p.length&&h.length;){for((u=p.shift()).closed=!0,c=0,l=(a=i.getNeighbors(u,g)).length;c<l;++c)if(!(s=a[c]).closed)if(s.opened){if(1===s.by)return r.biBacktrace(u,s)}else p.push(s),s.parent=u,s.opened=!0,s.by=0;for((u=h.shift()).closed=!0,c=0,l=(a=i.getNeighbors(u,g)).length;c<l;++c)if(!(s=a[c]).closed)if(s.opened){if(0===s.by)return r.biBacktrace(s,u)}else h.push(s),s.parent=u,s.opened=!0,s.by=1}return[]},t.exports=i},function(t,e,n){var r=n(22);function o(t){r.call(this,t);var e=this.heuristic;this.heuristic=function(t,n){return 1e6*e(t,n)}}o.prototype=new r,o.prototype.constructor=o,t.exports=o},function(t,e,n){var r=n(23);function o(t){r.call(this,t),this.heuristic=function(t,e){return 0}}o.prototype=new r,o.prototype.constructor=o,t.exports=o},function(t,e,n){var r=n(4),o=n(2);function i(t){t=t||{},this.allowDiagonal=t.allowDiagonal,this.dontCrossCorners=t.dontCrossCorners,this.diagonalMovement=t.diagonalMovement,this.diagonalMovement||(this.allowDiagonal?this.dontCrossCorners?this.diagonalMovement=o.OnlyWhenNoObstacles:this.diagonalMovement=o.IfAtMostOneObstacle:this.diagonalMovement=o.Never)}i.prototype.findPath=function(t,e,n,o,i){var a,s,u,c,l,f=[],d=this.diagonalMovement,p=i.getNodeAt(t,e),h=i.getNodeAt(n,o);for(f.push(p),p.opened=!0;f.length;){if((u=f.shift()).closed=!0,u===h)return r.backtrace(h);for(c=0,l=(a=i.getNeighbors(u,d)).length;c<l;++c)(s=a[c]).closed||s.opened||(f.push(s),s.opened=!0,s.parent=u)}return[]},t.exports=i},function(t,e,n){var r=n(23);function o(t){r.call(this,t);var e=this.heuristic;this.heuristic=function(t,n){return 1e6*e(t,n)}}o.prototype=new r,o.prototype.constructor=o,t.exports=o},function(t,e,n){var r=n(24),o=n(2);function i(t,e,n){var r;"object"!==(0,s.default)(t)?r=t:(e=t.length,r=t[0].length,n=t),this.width=r,this.height=e,this.nodes=this._buildNodes(r,e,n)}i.prototype._buildNodes=function(t,e,n){var o,i,a=new Array(e);for(o=0;o<e;++o)for(a[o]=new Array(t),i=0;i<t;++i)a[o][i]=new r(i,o);if(void 0===n)return a;if(n.length!==e||n[0].length!==t)throw new Error("Matrix size does not fit");for(o=0;o<e;++o)for(i=0;i<t;++i)n[o][i]&&(a[o][i].walkable=!1);return a},i.prototype.getNodeAt=function(t,e){return this.nodes[e][t]},i.prototype.isWalkableAt=function(t,e){return this.isInside(t,e)&&this.nodes[e][t].walkable},i.prototype.isInside=function(t,e){return t>=0&&t<this.width&&e>=0&&e<this.height},i.prototype.setWalkableAt=function(t,e,n){this.nodes[e][t].walkable=n},i.prototype.getNeighbors=function(t,e){var n=t.x,r=t.y,i=[],a=!1,s=!1,u=!1,c=!1,l=!1,f=!1,d=!1,p=!1,h=this.nodes;if(this.isWalkableAt(n,r-1)&&(i.push(h[r-1][n]),a=!0),this.isWalkableAt(n+1,r)&&(i.push(h[r][n+1]),u=!0),this.isWalkableAt(n,r+1)&&(i.push(h[r+1][n]),l=!0),this.isWalkableAt(n-1,r)&&(i.push(h[r][n-1]),d=!0),e===o.Never)return i;if(e===o.OnlyWhenNoObstacles)s=d&&a,c=a&&u,f=u&&l,p=l&&d;else if(e===o.IfAtMostOneObstacle)s=d||a,c=a||u,f=u||l,p=l||d;else{if(e!==o.Always)throw new Error("Incorrect value of diagonalMovement");s=!0,c=!0,f=!0,p=!0}return s&&this.isWalkableAt(n-1,r-1)&&i.push(h[r-1][n-1]),c&&this.isWalkableAt(n+1,r-1)&&i.push(h[r-1][n+1]),f&&this.isWalkableAt(n+1,r+1)&&i.push(h[r+1][n+1]),p&&this.isWalkableAt(n-1,r+1)&&i.push(h[r+1][n-1]),i},i.prototype.clone=function(){var t,e,n=this.width,o=this.height,a=this.nodes,s=new i(n,o),u=new Array(o);for(t=0;t<o;++t)for(u[t]=new Array(n),e=0;e<n;++e)u[t][e]=new r(e,t,a[t][e].walkable);return s.nodes=u,s},t.exports=i},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){(function(t){(function(){var e,n,r,o,i,a,s,u,c,l,f,d,p,h,g;r=Math.floor,l=Math.min,n=function(t,e){return t<e?-1:t>e?1:0},c=function(t,e,o,i,a){var s;if(null==o&&(o=0),null==a&&(a=n),o<0)throw new Error("lo must be non-negative");for(null==i&&(i=t.length);o<i;)a(e,t[s=r((o+i)/2)])<0?i=s:o=s+1;return[].splice.apply(t,[o,o-o].concat(e)),e},a=function(t,e,r){return null==r&&(r=n),t.push(e),h(t,0,t.length-1,r)},i=function(t,e){var r,o;return null==e&&(e=n),r=t.pop(),t.length?(o=t[0],t[0]=r,g(t,0,e)):o=r,o},u=function(t,e,r){var o;return null==r&&(r=n),o=t[0],t[0]=e,g(t,0,r),o},s=function(t,e,r){var o;return null==r&&(r=n),t.length&&r(t[0],e)<0&&(e=(o=[t[0],e])[0],t[0]=o[1],g(t,0,r)),e},o=function(t,e){var o,i,a,s,u,c;for(null==e&&(e=n),s=function(){c=[];for(var e=0,n=r(t.length/2);0<=n?e<n:e>n;0<=n?e++:e--)c.push(e);return c}.apply(this).reverse(),u=[],i=0,a=s.length;i<a;i++)o=s[i],u.push(g(t,o,e));return u},p=function(t,e,r){var o;if(null==r&&(r=n),-1!==(o=t.indexOf(e)))return h(t,0,o,r),g(t,o,r)},f=function(t,e,r){var i,a,u,c,l;if(null==r&&(r=n),!(a=t.slice(0,e)).length)return a;for(o(a,r),u=0,c=(l=t.slice(e)).length;u<c;u++)i=l[u],s(a,i,r);return a.sort(r).reverse()},d=function(t,e,r){var a,s,u,f,d,p,h,g,v;if(null==r&&(r=n),10*e<=t.length){if(!(u=t.slice(0,e).sort(r)).length)return u;for(s=u[u.length-1],f=0,p=(h=t.slice(e)).length;f<p;f++)r(a=h[f],s)<0&&(c(u,a,0,null,r),u.pop(),s=u[u.length-1]);return u}for(o(t,r),v=[],d=0,g=l(e,t.length);0<=g?d<g:d>g;0<=g?++d:--d)v.push(i(t,r));return v},h=function(t,e,r,o){var i,a,s;for(null==o&&(o=n),i=t[r];r>e&&o(i,a=t[s=r-1>>1])<0;)t[r]=a,r=s;return t[r]=i},g=function(t,e,r){var o,i,a,s,u;for(null==r&&(r=n),i=t.length,u=e,a=t[e],o=2*e+1;o<i;)(s=o+1)<i&&!(r(t[o],t[s])<0)&&(o=s),t[e]=t[o],o=2*(e=o)+1;return t[e]=a,h(t,u,e,r)},e=function(){function t(t){this.cmp=null!=t?t:n,this.nodes=[]}return t.push=a,t.pop=i,t.replace=u,t.pushpop=s,t.heapify=o,t.updateItem=p,t.nlargest=f,t.nsmallest=d,t.prototype.push=function(t){return a(this.nodes,t,this.cmp)},t.prototype.pop=function(){return i(this.nodes,this.cmp)},t.prototype.peek=function(){return this.nodes[0]},t.prototype.contains=function(t){return-1!==this.nodes.indexOf(t)},t.prototype.replace=function(t){return u(this.nodes,t,this.cmp)},t.prototype.pushpop=function(t){return s(this.nodes,t,this.cmp)},t.prototype.heapify=function(){return o(this.nodes,this.cmp)},t.prototype.updateItem=function(t){return p(this.nodes,t,this.cmp)},t.prototype.clear=function(){return this.nodes=[]},t.prototype.empty=function(){return 0===this.nodes.length},t.prototype.size=function(){return this.nodes.length},t.prototype.clone=function(){var e;return(e=new t).nodes=this.nodes.slice(0),e},t.prototype.toArray=function(){return this.nodes.slice(0)},t.prototype.insert=t.prototype.push,t.prototype.top=t.prototype.peek,t.prototype.front=t.prototype.peek,t.prototype.has=t.prototype.contains,t.prototype.copy=t.prototype.clone,t}(),("undefined"!==typeof t&&null!==t?t.exports:void 0)?t.exports=e:window.Heap=e}).call(this)}).call(this,n(65)(t))},function(t,e,n){t.exports={Heap:n(15),Node:n(24),Grid:n(64),Util:n(4),DiagonalMovement:n(2),Heuristic:n(10),AStarFinder:n(23),BestFirstFinder:n(63),BreadthFirstFinder:n(62),DijkstraFinder:n(61),BiAStarFinder:n(22),BiBestFirstFinder:n(60),BiBreadthFirstFinder:n(59),BiDijkstraFinder:n(58),IDAStarFinder:n(57),JumpPointFinder:n(56)}},function(t,e,n){t.exports=n(67)},function(t,e){var n=Element.prototype,r=n.matchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector;t.exports=function(t,e){if(r)return r.call(t,e);for(var n=t.parentNode.querySelectorAll(e),o=0;o<n.length;++o)if(n[o]==t)return!0;return!1}},function(t,e,n){var r=n(69);t.exports=function(t,e,n){for(var o=n?t:t.parentNode;o&&o!==document;){if(r(o,e))return o;o=o.parentNode}}}])},"object"===(0,s.default)(e)&&"object"===(0,s.default)(t)?t.exports=a(n(96486),n(53547)):(o=[n(96486),n(53547)],void 0===(i="function"===typeof(r=a)?r.apply(e,o):r)||(t.exports=i))},44840:(t,e,n)=>{"use strict";n.d(e,{Z:()=>s});var r=n(8081),o=n.n(r),i=n(23645),a=n.n(i)()(o());a.push([t.id,".srd-diagram {\n  height: 80vh;\n  overflow-y: auto;\n}\n\n.srd-default-link path {\n  stroke: #000;\n}\n\n.erc-header-title p {\n  width: 100%;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  font-size: 1.3rem;\n  font-weight: 400;\n  line-height: normal;\n  color: rgb(120, 126, 143);\n  margin: 0px;\n  overflow: hidden;\n}\n\n.erc-header-title h1 {\n  position: relative;\n  width: -webkit-fit-content;\n  width: -moz-fit-content;\n  width: fit-content;\n  max-width: 100%;\n  margin-bottom: 0;\n  padding-right: 18px;\n  font-size: 2.4rem;\n  line-height: normal;\n  font-weight: 600;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n",""]);const s=a},45473:(t,e,n)=>{"use strict";n.d(e,{Z:()=>s});var r=n(8081),o=n.n(r),i=n(23645),a=n.n(i)()(o());a.push([t.id,".srd-diagram {\n  position: relative;\n  flex-grow: 1;\n  display: flex;\n  cursor: move;\n  overflow: hidden;\n}\n.srd-diagram__selector {\n  position: absolute;\n  background-color: rgba(0, 192, 255, 0.2);\n  border: solid 2px #00c0ff;\n}\n.srd-link-layer {\n  position: absolute;\n  height: 100%;\n  width: 100%;\n  transform-origin: 0 0;\n  overflow: visible !important;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n}\n.srd-node-layer {\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  position: absolute;\n  pointer-events: none;\n  transform-origin: 0 0;\n  width: 100%;\n  height: 100%;\n}\n.srd-node {\n  position: absolute;\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  user-select: none;\n  cursor: move;\n  pointer-events: all;\n}\n.srd-node--selected > * {\n  border-color: #00c0ff !important;\n}\n.srd-port {\n  width: 15px;\n  height: 15px;\n  background: rgba(255, 255, 255, 0.1);\n}\n.srd-port:hover,\n.srd-port.selected {\n  background: #c0ff00;\n}\n.srd-default-node {\n  background-color: #1e1e1e;\n  border-radius: 5px;\n  font-family: sans-serif;\n  color: white;\n  border: solid 2px black;\n  overflow: visible;\n  font-size: 11px;\n}\n.srd-default-node__title {\n  background: rgba(0, 0, 0, 0.3);\n  display: flex;\n  white-space: nowrap;\n}\n.srd-default-node__title > * {\n  align-self: center;\n}\n.srd-default-node__title .fa {\n  padding: 5px;\n  opacity: 0.2;\n  cursor: pointer;\n}\n.srd-default-node__title .fa:hover {\n  opacity: 1;\n}\n.srd-default-node__name {\n  flex-grow: 1;\n  padding: 5px 5px;\n}\n.srd-default-node__ports {\n  display: flex;\n  background-image: linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.2));\n}\n.srd-default-node__in,\n.srd-default-node__out {\n  flex-grow: 1;\n  display: flex;\n  flex-direction: column;\n}\n.srd-default-port {\n  display: flex;\n  margin-top: 1px;\n}\n.srd-default-port > * {\n  align-self: center;\n}\n.srd-default-port__name {\n  padding: 0 5px;\n}\n.srd-default-port--out {\n  justify-content: flex-end;\n}\n.srd-default-port--out .srd-default-port__name {\n  justify-content: flex-end;\n  text-align: right;\n}\n.srd-default-label {\n  background: rgba(70, 70, 70, 0.8);\n  border: 1px solid #333;\n  border-radius: 4px;\n  color: #fff;\n  display: inline-block;\n  font-size: smaller;\n  padding: 5px;\n}\n@keyframes dash {\n  from {\n    stroke-dashoffset: 24;\n  }\n  to {\n    stroke-dashoffset: 0;\n  }\n}\n.srd-default-link path {\n  fill: none;\n  pointer-events: all;\n}\n.srd-default-link--path-selected {\n  stroke: #00c0ff !important;\n  stroke-dasharray: 10, 2;\n  animation: dash 1s linear infinite;\n}\n.srd-default-link__label {\n  pointer-events: none;\n}\n.srd-default-link__label > div {\n  display: inline-block;\n  position: absolute;\n}\n.srd-default-link__point {\n  fill: rgba(255, 255, 255, 0.5);\n}\n.srd-default-link--point-selected {\n  fill: #00c0ff;\n}\n",""]);const s=a},23645:t=>{"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n="",r="undefined"!==typeof e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),r&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),r&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function(t,n,r,o,i){"string"===typeof t&&(t=[[null,t,void 0]]);var a={};if(r)for(var s=0;s<this.length;s++){var u=this[s][0];null!=u&&(a[u]=!0)}for(var c=0;c<t.length;c++){var l=[].concat(t[c]);r&&a[l[0]]||("undefined"!==typeof i&&("undefined"===typeof l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=i),n&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=n):l[2]=n),o&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=o):l[4]="".concat(o)),e.push(l))}},e}},8081:t=>{"use strict";t.exports=function(t){return t[1]}},70681:(t,e,n)=>{t.exports={graphlib:n(70574),layout:n(98123),debug:n(27570),util:{time:n(11138).time,notime:n(11138).notime},version:n(88177)}},92188:(t,e,n)=>{"use strict";var r=n(38436),o=n(74079);t.exports={run:function(t){var e="greedy"===t.graph().acyclicer?o(t,function(t){return function(e){return t.edge(e).weight}}(t)):function(t){var e=[],n={},o={};function i(a){r.has(o,a)||(o[a]=!0,n[a]=!0,r.forEach(t.outEdges(a),(function(t){r.has(n,t.w)?e.push(t):i(t.w)})),delete n[a])}return r.forEach(t.nodes(),i),e}(t);r.forEach(e,(function(e){var n=t.edge(e);t.removeEdge(e),n.forwardName=e.name,n.reversed=!0,t.setEdge(e.w,e.v,n,r.uniqueId("rev"))}))},undo:function(t){r.forEach(t.edges(),(function(e){var n=t.edge(e);if(n.reversed){t.removeEdge(e);var r=n.forwardName;delete n.reversed,delete n.forwardName,t.setEdge(e.w,e.v,n,r)}}))}}},61133:(t,e,n)=>{var r=n(38436),o=n(11138);function i(t,e,n,r,i,a){var s={width:0,height:0,rank:a,borderType:e},u=i[e][a-1],c=o.addDummyNode(t,"border",s,n);i[e][a]=c,t.setParent(c,r),u&&t.setEdge(u,c,{weight:1})}t.exports=function(t){r.forEach(t.children(),(function e(n){var o=t.children(n),a=t.node(n);if(o.length&&r.forEach(o,e),r.has(a,"minRank")){a.borderLeft=[],a.borderRight=[];for(var s=a.minRank,u=a.maxRank+1;s<u;++s)i(t,"borderLeft","_bl",n,a,s),i(t,"borderRight","_br",n,a,s)}}))}},53258:(t,e,n)=>{"use strict";var r=n(38436);function o(t){r.forEach(t.nodes(),(function(e){i(t.node(e))})),r.forEach(t.edges(),(function(e){i(t.edge(e))}))}function i(t){var e=t.width;t.width=t.height,t.height=e}function a(t){t.y=-t.y}function s(t){var e=t.x;t.x=t.y,t.y=e}t.exports={adjust:function(t){var e=t.graph().rankdir.toLowerCase();"lr"!==e&&"rl"!==e||o(t)},undo:function(t){var e=t.graph().rankdir.toLowerCase();"bt"!==e&&"rl"!==e||function(t){r.forEach(t.nodes(),(function(e){a(t.node(e))})),r.forEach(t.edges(),(function(e){var n=t.edge(e);r.forEach(n.points,a),r.has(n,"y")&&a(n)}))}(t);"lr"!==e&&"rl"!==e||(!function(t){r.forEach(t.nodes(),(function(e){s(t.node(e))})),r.forEach(t.edges(),(function(e){var n=t.edge(e);r.forEach(n.points,s),r.has(n,"x")&&s(n)}))}(t),o(t))}}},77822:t=>{function e(){var t={};t._next=t._prev=t,this._sentinel=t}function n(t){t._prev._next=t._next,t._next._prev=t._prev,delete t._next,delete t._prev}function r(t,e){if("_next"!==t&&"_prev"!==t)return e}t.exports=e,e.prototype.dequeue=function(){var t=this._sentinel,e=t._prev;if(e!==t)return n(e),e},e.prototype.enqueue=function(t){var e=this._sentinel;t._prev&&t._next&&n(t),t._next=e._next,e._next._prev=t,e._next=t,t._prev=e},e.prototype.toString=function(){for(var t=[],e=this._sentinel,n=e._prev;n!==e;)t.push(JSON.stringify(n,r)),n=n._prev;return"["+t.join(", ")+"]"}},27570:(t,e,n)=>{var r=n(38436),o=n(11138),i=n(70574).Graph;t.exports={debugOrdering:function(t){var e=o.buildLayerMatrix(t),n=new i({compound:!0,multigraph:!0}).setGraph({});return r.forEach(t.nodes(),(function(e){n.setNode(e,{label:e}),n.setParent(e,"layer"+t.node(e).rank)})),r.forEach(t.edges(),(function(t){n.setEdge(t.v,t.w,{},t.name)})),r.forEach(e,(function(t,e){var o="layer"+e;n.setNode(o,{rank:"same"}),r.reduce(t,(function(t,e){return n.setEdge(t,e,{style:"invis"}),e}))})),n}}},70574:(t,e,n)=>{var r;try{r=n(28282)}catch(o){}r||(r=window.graphlib),t.exports=r},74079:(t,e,n)=>{var r=n(38436),o=n(70574).Graph,i=n(77822);t.exports=function(t,e){if(t.nodeCount()<=1)return[];var n=function(t,e){var n=new o,a=0,s=0;r.forEach(t.nodes(),(function(t){n.setNode(t,{v:t,in:0,out:0})})),r.forEach(t.edges(),(function(t){var r=n.edge(t.v,t.w)||0,o=e(t),i=r+o;n.setEdge(t.v,t.w,i),s=Math.max(s,n.node(t.v).out+=o),a=Math.max(a,n.node(t.w).in+=o)}));var c=r.range(s+a+3).map((function(){return new i})),l=a+1;return r.forEach(n.nodes(),(function(t){u(c,l,n.node(t))})),{graph:n,buckets:c,zeroIdx:l}}(t,e||a),c=function(t,e,n){var r,o=[],i=e[e.length-1],a=e[0];for(;t.nodeCount();){for(;r=a.dequeue();)s(t,e,n,r);for(;r=i.dequeue();)s(t,e,n,r);if(t.nodeCount())for(var u=e.length-2;u>0;--u)if(r=e[u].dequeue()){o=o.concat(s(t,e,n,r,!0));break}}return o}(n.graph,n.buckets,n.zeroIdx);return r.flatten(r.map(c,(function(e){return t.outEdges(e.v,e.w)})),!0)};var a=r.constant(1);function s(t,e,n,o,i){var a=i?[]:void 0;return r.forEach(t.inEdges(o.v),(function(r){var o=t.edge(r),s=t.node(r.v);i&&a.push({v:r.v,w:r.w}),s.out-=o,u(e,n,s)})),r.forEach(t.outEdges(o.v),(function(r){var o=t.edge(r),i=r.w,a=t.node(i);a.in-=o,u(e,n,a)})),t.removeNode(o.v),a}function u(t,e,n){n.out?n.in?t[n.out-n.in+e].enqueue(n):t[t.length-1].enqueue(n):t[0].enqueue(n)}},98123:(t,e,n)=>{"use strict";var r=n(38436),o=n(92188),i=n(45995),a=n(78093),s=n(11138).normalizeRanks,u=n(24219),c=n(11138).removeEmptyRanks,l=n(72981),f=n(61133),d=n(53258),p=n(53408),h=n(17873),g=n(11138),v=n(70574).Graph;t.exports=function(t,e){var n=e&&e.debugTiming?g.time:g.notime;n("layout",(function(){var e=n("  buildLayoutGraph",(function(){return function(t){var e=new v({multigraph:!0,compound:!0}),n=M(t.graph());return e.setGraph(r.merge({},m,E(n,y),r.pick(n,b))),r.forEach(t.nodes(),(function(n){var o=M(t.node(n));e.setNode(n,r.defaults(E(o,_),x)),e.setParent(n,t.parent(n))})),r.forEach(t.edges(),(function(n){var o=M(t.edge(n));e.setEdge(n,r.merge({},k,E(o,w),r.pick(o,P)))})),e}(t)}));n("  runLayout",(function(){!function(t,e){e("    makeSpaceForEdgeLabels",(function(){!function(t){var e=t.graph();e.ranksep/=2,r.forEach(t.edges(),(function(n){var r=t.edge(n);r.minlen*=2,"c"!==r.labelpos.toLowerCase()&&("TB"===e.rankdir||"BT"===e.rankdir?r.width+=r.labeloffset:r.height+=r.labeloffset)}))}(t)})),e("    removeSelfEdges",(function(){!function(t){r.forEach(t.edges(),(function(e){if(e.v===e.w){var n=t.node(e.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e:e,label:t.edge(e)}),t.removeEdge(e)}}))}(t)})),e("    acyclic",(function(){o.run(t)})),e("    nestingGraph.run",(function(){l.run(t)})),e("    rank",(function(){a(g.asNonCompoundGraph(t))})),e("    injectEdgeLabelProxies",(function(){!function(t){r.forEach(t.edges(),(function(e){var n=t.edge(e);if(n.width&&n.height){var r=t.node(e.v),o={rank:(t.node(e.w).rank-r.rank)/2+r.rank,e:e};g.addDummyNode(t,"edge-proxy",o,"_ep")}}))}(t)})),e("    removeEmptyRanks",(function(){c(t)})),e("    nestingGraph.cleanup",(function(){l.cleanup(t)})),e("    normalizeRanks",(function(){s(t)})),e("    assignRankMinMax",(function(){!function(t){var e=0;r.forEach(t.nodes(),(function(n){var o=t.node(n);o.borderTop&&(o.minRank=t.node(o.borderTop).rank,o.maxRank=t.node(o.borderBottom).rank,e=r.max(e,o.maxRank))})),t.graph().maxRank=e}(t)})),e("    removeEdgeLabelProxies",(function(){!function(t){r.forEach(t.nodes(),(function(e){var n=t.node(e);"edge-proxy"===n.dummy&&(t.edge(n.e).labelRank=n.rank,t.removeNode(e))}))}(t)})),e("    normalize.run",(function(){i.run(t)})),e("    parentDummyChains",(function(){u(t)})),e("    addBorderSegments",(function(){f(t)})),e("    order",(function(){p(t)})),e("    insertSelfEdges",(function(){!function(t){var e=g.buildLayerMatrix(t);r.forEach(e,(function(e){var n=0;r.forEach(e,(function(e,o){var i=t.node(e);i.order=o+n,r.forEach(i.selfEdges,(function(e){g.addDummyNode(t,"selfedge",{width:e.label.width,height:e.label.height,rank:i.rank,order:o+ ++n,e:e.e,label:e.label},"_se")})),delete i.selfEdges}))}))}(t)})),e("    adjustCoordinateSystem",(function(){d.adjust(t)})),e("    position",(function(){h(t)})),e("    positionSelfEdges",(function(){!function(t){r.forEach(t.nodes(),(function(e){var n=t.node(e);if("selfedge"===n.dummy){var r=t.node(n.e.v),o=r.x+r.width/2,i=r.y,a=n.x-o,s=r.height/2;t.setEdge(n.e,n.label),t.removeNode(e),n.label.points=[{x:o+2*a/3,y:i-s},{x:o+5*a/6,y:i-s},{x:o+a,y:i},{x:o+5*a/6,y:i+s},{x:o+2*a/3,y:i+s}],n.label.x=n.x,n.label.y=n.y}}))}(t)})),e("    removeBorderNodes",(function(){!function(t){r.forEach(t.nodes(),(function(e){if(t.children(e).length){var n=t.node(e),o=t.node(n.borderTop),i=t.node(n.borderBottom),a=t.node(r.last(n.borderLeft)),s=t.node(r.last(n.borderRight));n.width=Math.abs(s.x-a.x),n.height=Math.abs(i.y-o.y),n.x=a.x+n.width/2,n.y=o.y+n.height/2}})),r.forEach(t.nodes(),(function(e){"border"===t.node(e).dummy&&t.removeNode(e)}))}(t)})),e("    normalize.undo",(function(){i.undo(t)})),e("    fixupEdgeLabelCoords",(function(){!function(t){r.forEach(t.edges(),(function(e){var n=t.edge(e);if(r.has(n,"x"))switch("l"!==n.labelpos&&"r"!==n.labelpos||(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset}}))}(t)})),e("    undoCoordinateSystem",(function(){d.undo(t)})),e("    translateGraph",(function(){!function(t){var e=Number.POSITIVE_INFINITY,n=0,o=Number.POSITIVE_INFINITY,i=0,a=t.graph(),s=a.marginx||0,u=a.marginy||0;function c(t){var r=t.x,a=t.y,s=t.width,u=t.height;e=Math.min(e,r-s/2),n=Math.max(n,r+s/2),o=Math.min(o,a-u/2),i=Math.max(i,a+u/2)}r.forEach(t.nodes(),(function(e){c(t.node(e))})),r.forEach(t.edges(),(function(e){var n=t.edge(e);r.has(n,"x")&&c(n)})),e-=s,o-=u,r.forEach(t.nodes(),(function(n){var r=t.node(n);r.x-=e,r.y-=o})),r.forEach(t.edges(),(function(n){var i=t.edge(n);r.forEach(i.points,(function(t){t.x-=e,t.y-=o})),r.has(i,"x")&&(i.x-=e),r.has(i,"y")&&(i.y-=o)})),a.width=n-e+s,a.height=i-o+u}(t)})),e("    assignNodeIntersects",(function(){!function(t){r.forEach(t.edges(),(function(e){var n,r,o=t.edge(e),i=t.node(e.v),a=t.node(e.w);o.points?(n=o.points[0],r=o.points[o.points.length-1]):(o.points=[],n=a,r=i),o.points.unshift(g.intersectRect(i,n)),o.points.push(g.intersectRect(a,r))}))}(t)})),e("    reversePoints",(function(){!function(t){r.forEach(t.edges(),(function(e){var n=t.edge(e);n.reversed&&n.points.reverse()}))}(t)})),e("    acyclic.undo",(function(){o.undo(t)}))}(e,n)})),n("  updateInputGraph",(function(){!function(t,e){r.forEach(t.nodes(),(function(n){var r=t.node(n),o=e.node(n);r&&(r.x=o.x,r.y=o.y,e.children(n).length&&(r.width=o.width,r.height=o.height))})),r.forEach(t.edges(),(function(n){var o=t.edge(n),i=e.edge(n);o.points=i.points,r.has(i,"x")&&(o.x=i.x,o.y=i.y)})),t.graph().width=e.graph().width,t.graph().height=e.graph().height}(t,e)}))}))};var y=["nodesep","edgesep","ranksep","marginx","marginy"],m={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},b=["acyclicer","ranker","rankdir","align"],_=["width","height"],x={width:0,height:0},w=["minlen","weight","width","height","labeloffset"],k={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},P=["labelpos"];function E(t,e){return r.mapValues(r.pick(t,e),Number)}function M(t){var e={};return r.forEach(t,(function(t,n){e[n.toLowerCase()]=t})),e}},38436:(t,e,n)=>{var r;try{r={cloneDeep:n(50361),constant:n(75703),defaults:n(91747),each:n(66073),filter:n(63105),find:n(13311),flatten:n(85564),forEach:n(84486),forIn:n(62620),has:n(18721),isUndefined:n(52353),last:n(10928),map:n(35161),mapValues:n(66604),max:n(6162),merge:n(82492),min:n(53632),minBy:n(22762),now:n(7771),pick:n(78718),range:n(96026),reduce:n(54061),sortBy:n(89734),uniqueId:n(73955),values:n(52628),zipObject:n(7287)}}catch(o){}r||(r=window._),t.exports=r},72981:(t,e,n)=>{var r=n(38436),o=n(11138);function i(t,e,n,a,s,u,c){var l=t.children(c);if(l.length){var f=o.addBorderNode(t,"_bt"),d=o.addBorderNode(t,"_bb"),p=t.node(c);t.setParent(f,c),p.borderTop=f,t.setParent(d,c),p.borderBottom=d,r.forEach(l,(function(r){i(t,e,n,a,s,u,r);var o=t.node(r),l=o.borderTop?o.borderTop:r,p=o.borderBottom?o.borderBottom:r,h=o.borderTop?a:2*a,g=l!==p?1:s-u[c]+1;t.setEdge(f,l,{weight:h,minlen:g,nestingEdge:!0}),t.setEdge(p,d,{weight:h,minlen:g,nestingEdge:!0})})),t.parent(c)||t.setEdge(e,f,{weight:0,minlen:s+u[c]})}else c!==e&&t.setEdge(e,c,{weight:0,minlen:n})}t.exports={run:function(t){var e=o.addDummyNode(t,"root",{},"_root"),n=function(t){var e={};function n(o,i){var a=t.children(o);a&&a.length&&r.forEach(a,(function(t){n(t,i+1)})),e[o]=i}return r.forEach(t.children(),(function(t){n(t,1)})),e}(t),a=r.max(r.values(n))-1,s=2*a+1;t.graph().nestingRoot=e,r.forEach(t.edges(),(function(e){t.edge(e).minlen*=s}));var u=function(t){return r.reduce(t.edges(),(function(e,n){return e+t.edge(n).weight}),0)}(t)+1;r.forEach(t.children(),(function(r){i(t,e,s,u,a,n,r)})),t.graph().nodeRankFactor=s},cleanup:function(t){var e=t.graph();t.removeNode(e.nestingRoot),delete e.nestingRoot,r.forEach(t.edges(),(function(e){t.edge(e).nestingEdge&&t.removeEdge(e)}))}}},45995:(t,e,n)=>{"use strict";var r=n(38436),o=n(11138);t.exports={run:function(t){t.graph().dummyChains=[],r.forEach(t.edges(),(function(e){!function(t,e){var n,r,i,a=e.v,s=t.node(a).rank,u=e.w,c=t.node(u).rank,l=e.name,f=t.edge(e),d=f.labelRank;if(c===s+1)return;for(t.removeEdge(e),i=0,++s;s<c;++i,++s)f.points=[],r={width:0,height:0,edgeLabel:f,edgeObj:e,rank:s},n=o.addDummyNode(t,"edge",r,"_d"),s===d&&(r.width=f.width,r.height=f.height,r.dummy="edge-label",r.labelpos=f.labelpos),t.setEdge(a,n,{weight:f.weight},l),0===i&&t.graph().dummyChains.push(n),a=n;t.setEdge(a,u,{weight:f.weight},l)}(t,e)}))},undo:function(t){r.forEach(t.graph().dummyChains,(function(e){var n,r=t.node(e),o=r.edgeLabel;for(t.setEdge(r.edgeObj,o);r.dummy;)n=t.successors(e)[0],t.removeNode(e),o.points.push({x:r.x,y:r.y}),"edge-label"===r.dummy&&(o.x=r.x,o.y=r.y,o.width=r.width,o.height=r.height),e=n,r=t.node(e)}))}}},55093:(t,e,n)=>{var r=n(38436);t.exports=function(t,e,n){var o,i={};r.forEach(n,(function(n){for(var r,a,s=t.parent(n);s;){if((r=t.parent(s))?(a=i[r],i[r]=s):(a=o,o=s),a&&a!==s)return void e.setEdge(a,s);s=r}}))}},35439:(t,e,n)=>{var r=n(38436);t.exports=function(t,e){return r.map(e,(function(e){var n=t.inEdges(e);if(n.length){var o=r.reduce(n,(function(e,n){var r=t.edge(n),o=t.node(n.v);return{sum:e.sum+r.weight*o.order,weight:e.weight+r.weight}}),{sum:0,weight:0});return{v:e,barycenter:o.sum/o.weight,weight:o.weight}}return{v:e}}))}},23128:(t,e,n)=>{var r=n(38436),o=n(70574).Graph;t.exports=function(t,e,n){var i=function(t){var e;for(;t.hasNode(e=r.uniqueId("_root")););return e}(t),a=new o({compound:!0}).setGraph({root:i}).setDefaultNodeLabel((function(e){return t.node(e)}));return r.forEach(t.nodes(),(function(o){var s=t.node(o),u=t.parent(o);(s.rank===e||s.minRank<=e&&e<=s.maxRank)&&(a.setNode(o),a.setParent(o,u||i),r.forEach(t[n](o),(function(e){var n=e.v===o?e.w:e.v,i=a.edge(n,o),s=r.isUndefined(i)?0:i.weight;a.setEdge(n,o,{weight:t.edge(e).weight+s})})),r.has(s,"minRank")&&a.setNode(o,{borderLeft:s.borderLeft[e],borderRight:s.borderRight[e]}))})),a}},56630:(t,e,n)=>{"use strict";var r=n(38436);function o(t,e,n){for(var o=r.zipObject(n,r.map(n,(function(t,e){return e}))),i=r.flatten(r.map(e,(function(e){return r.sortBy(r.map(t.outEdges(e),(function(e){return{pos:o[e.w],weight:t.edge(e).weight}})),"pos")})),!0),a=1;a<n.length;)a<<=1;var s=2*a-1;a-=1;var u=r.map(new Array(s),(function(){return 0})),c=0;return r.forEach(i.forEach((function(t){var e=t.pos+a;u[e]+=t.weight;for(var n=0;e>0;)e%2&&(n+=u[e+1]),u[e=e-1>>1]+=t.weight;c+=t.weight*n}))),c}t.exports=function(t,e){for(var n=0,r=1;r<e.length;++r)n+=o(t,e[r-1],e[r]);return n}},53408:(t,e,n)=>{"use strict";var r=n(38436),o=n(2588),i=n(56630),a=n(61026),s=n(23128),u=n(55093),c=n(70574).Graph,l=n(11138);function f(t,e,n){return r.map(e,(function(e){return s(t,e,n)}))}function d(t,e){var n=new c;r.forEach(t,(function(t){var o=t.graph().root,i=a(t,o,n,e);r.forEach(i.vs,(function(e,n){t.node(e).order=n})),u(t,n,i.vs)}))}function p(t,e){r.forEach(e,(function(e){r.forEach(e,(function(e,n){t.node(e).order=n}))}))}t.exports=function(t){var e=l.maxRank(t),n=f(t,r.range(1,e+1),"inEdges"),a=f(t,r.range(e-1,-1,-1),"outEdges"),s=o(t);p(t,s);for(var u,c=Number.POSITIVE_INFINITY,h=0,g=0;g<4;++h,++g){d(h%2?n:a,h%4>=2),s=l.buildLayerMatrix(t);var v=i(t,s);v<c&&(g=0,u=r.cloneDeep(s),c=v)}p(t,u)}},2588:(t,e,n)=>{"use strict";var r=n(38436);t.exports=function(t){var e={},n=r.filter(t.nodes(),(function(e){return!t.children(e).length})),o=r.max(r.map(n,(function(e){return t.node(e).rank}))),i=r.map(r.range(o+1),(function(){return[]}));var a=r.sortBy(n,(function(e){return t.node(e).rank}));return r.forEach(a,(function n(o){if(r.has(e,o))return;e[o]=!0;var a=t.node(o);i[a.rank].push(o),r.forEach(t.successors(o),n)})),i}},83678:(t,e,n)=>{"use strict";var r=n(38436);t.exports=function(t,e){var n={};return r.forEach(t,(function(t,e){var o=n[t.v]={indegree:0,in:[],out:[],vs:[t.v],i:e};r.isUndefined(t.barycenter)||(o.barycenter=t.barycenter,o.weight=t.weight)})),r.forEach(e.edges(),(function(t){var e=n[t.v],o=n[t.w];r.isUndefined(e)||r.isUndefined(o)||(o.indegree++,e.out.push(n[t.w]))})),function(t){var e=[];function n(t){return function(e){e.merged||(r.isUndefined(e.barycenter)||r.isUndefined(t.barycenter)||e.barycenter>=t.barycenter)&&function(t,e){var n=0,r=0;t.weight&&(n+=t.barycenter*t.weight,r+=t.weight);e.weight&&(n+=e.barycenter*e.weight,r+=e.weight);t.vs=e.vs.concat(t.vs),t.barycenter=n/r,t.weight=r,t.i=Math.min(e.i,t.i),e.merged=!0}(t,e)}}function o(e){return function(n){n.in.push(e),0===--n.indegree&&t.push(n)}}for(;t.length;){var i=t.pop();e.push(i),r.forEach(i.in.reverse(),n(i)),r.forEach(i.out,o(i))}return r.map(r.filter(e,(function(t){return!t.merged})),(function(t){return r.pick(t,["vs","i","barycenter","weight"])}))}(r.filter(n,(function(t){return!t.indegree})))}},61026:(t,e,n)=>{var r=n(38436),o=n(35439),i=n(83678),a=n(87304);t.exports=function t(e,n,s,u){var c=e.children(n),l=e.node(n),f=l?l.borderLeft:void 0,d=l?l.borderRight:void 0,p={};f&&(c=r.filter(c,(function(t){return t!==f&&t!==d})));var h=o(e,c);r.forEach(h,(function(n){if(e.children(n.v).length){var o=t(e,n.v,s,u);p[n.v]=o,r.has(o,"barycenter")&&(i=n,a=o,r.isUndefined(i.barycenter)?(i.barycenter=a.barycenter,i.weight=a.weight):(i.barycenter=(i.barycenter*i.weight+a.barycenter*a.weight)/(i.weight+a.weight),i.weight+=a.weight))}var i,a}));var g=i(h,s);!function(t,e){r.forEach(t,(function(t){t.vs=r.flatten(t.vs.map((function(t){return e[t]?e[t].vs:t})),!0)}))}(g,p);var v=a(g,u);if(f&&(v.vs=r.flatten([f,v.vs,d],!0),e.predecessors(f).length)){var y=e.node(e.predecessors(f)[0]),m=e.node(e.predecessors(d)[0]);r.has(v,"barycenter")||(v.barycenter=0,v.weight=0),v.barycenter=(v.barycenter*v.weight+y.order+m.order)/(v.weight+2),v.weight+=2}return v}},87304:(t,e,n)=>{var r=n(38436),o=n(11138);function i(t,e,n){for(var o;e.length&&(o=r.last(e)).i<=n;)e.pop(),t.push(o.vs),n++;return n}t.exports=function(t,e){var n=o.partition(t,(function(t){return r.has(t,"barycenter")})),a=n.lhs,s=r.sortBy(n.rhs,(function(t){return-t.i})),u=[],c=0,l=0,f=0;a.sort((d=!!e,function(t,e){return t.barycenter<e.barycenter?-1:t.barycenter>e.barycenter?1:d?e.i-t.i:t.i-e.i})),f=i(u,s,f),r.forEach(a,(function(t){f+=t.vs.length,u.push(t.vs),c+=t.barycenter*t.weight,l+=t.weight,f=i(u,s,f)}));var d;var p={vs:r.flatten(u,!0)};l&&(p.barycenter=c/l,p.weight=l);return p}},24219:(t,e,n)=>{var r=n(38436);t.exports=function(t){var e=function(t){var e={},n=0;function o(i){var a=n;r.forEach(t.children(i),o),e[i]={low:a,lim:n++}}return r.forEach(t.children(),o),e}(t);r.forEach(t.graph().dummyChains,(function(n){for(var r=t.node(n),o=r.edgeObj,i=function(t,e,n,r){var o,i,a=[],s=[],u=Math.min(e[n].low,e[r].low),c=Math.max(e[n].lim,e[r].lim);o=n;do{o=t.parent(o),a.push(o)}while(o&&(e[o].low>u||c>e[o].lim));i=o,o=r;for(;(o=t.parent(o))!==i;)s.push(o);return{path:a.concat(s.reverse()),lca:i}}(t,e,o.v,o.w),a=i.path,s=i.lca,u=0,c=a[u],l=!0;n!==o.w;){if(r=t.node(n),l){for(;(c=a[u])!==s&&t.node(c).maxRank<r.rank;)u++;c===s&&(l=!1)}if(!l){for(;u<a.length-1&&t.node(c=a[u+1]).minRank<=r.rank;)u++;c=a[u]}t.setParent(n,c),n=t.successors(n)[0]}}))}},3573:(t,e,n)=>{"use strict";var r=n(38436),o=n(70574).Graph,i=n(11138);function a(t,e){var n={};return r.reduce(e,(function(e,o){var i=0,a=0,s=e.length,c=r.last(o);return r.forEach(o,(function(e,l){var f=function(t,e){if(t.node(e).dummy)return r.find(t.predecessors(e),(function(e){return t.node(e).dummy}))}(t,e),d=f?t.node(f).order:s;(f||e===c)&&(r.forEach(o.slice(a,l+1),(function(e){r.forEach(t.predecessors(e),(function(r){var o=t.node(r),a=o.order;!(a<i||d<a)||o.dummy&&t.node(e).dummy||u(n,r,e)}))})),a=l+1,i=d)})),o})),n}function s(t,e){var n={};function o(e,o,i,a,s){var c;r.forEach(r.range(o,i),(function(o){c=e[o],t.node(c).dummy&&r.forEach(t.predecessors(c),(function(e){var r=t.node(e);r.dummy&&(r.order<a||r.order>s)&&u(n,e,c)}))}))}return r.reduce(e,(function(e,n){var i,a=-1,s=0;return r.forEach(n,(function(r,u){if("border"===t.node(r).dummy){var c=t.predecessors(r);c.length&&(i=t.node(c[0]).order,o(n,s,u,a,i),s=u,a=i)}o(n,s,n.length,i,e.length)})),n})),n}function u(t,e,n){if(e>n){var r=e;e=n,n=r}var o=t[e];o||(t[e]=o={}),o[n]=!0}function c(t,e,n){if(e>n){var o=e;e=n,n=o}return r.has(t[e],n)}function l(t,e,n,o){var i={},a={},s={};return r.forEach(e,(function(t){r.forEach(t,(function(t,e){i[t]=t,a[t]=t,s[t]=e}))})),r.forEach(e,(function(t){var e=-1;r.forEach(t,(function(t){var u=o(t);if(u.length){u=r.sortBy(u,(function(t){return s[t]}));for(var l=(u.length-1)/2,f=Math.floor(l),d=Math.ceil(l);f<=d;++f){var p=u[f];a[t]===t&&e<s[p]&&!c(n,t,p)&&(a[p]=t,a[t]=i[t]=i[p],e=s[p])}}}))})),{root:i,align:a}}function f(t,e,n,i,a){var s={},u=function(t,e,n,i){var a=new o,s=t.graph(),u=function(t,e,n){return function(o,i,a){var s,u=o.node(i),c=o.node(a),l=0;if(l+=u.width/2,r.has(u,"labelpos"))switch(u.labelpos.toLowerCase()){case"l":s=-u.width/2;break;case"r":s=u.width/2}if(s&&(l+=n?s:-s),s=0,l+=(u.dummy?e:t)/2,l+=(c.dummy?e:t)/2,l+=c.width/2,r.has(c,"labelpos"))switch(c.labelpos.toLowerCase()){case"l":s=c.width/2;break;case"r":s=-c.width/2}return s&&(l+=n?s:-s),s=0,l}}(s.nodesep,s.edgesep,i);return r.forEach(e,(function(e){var o;r.forEach(e,(function(e){var r=n[e];if(a.setNode(r),o){var i=n[o],s=a.edge(i,r);a.setEdge(i,r,Math.max(u(t,e,o),s||0))}o=e}))})),a}(t,e,n,a),c=a?"borderLeft":"borderRight";function l(t,e){for(var n=u.nodes(),r=n.pop(),o={};r;)o[r]?t(r):(o[r]=!0,n.push(r),n=n.concat(e(r))),r=n.pop()}return l((function(t){s[t]=u.inEdges(t).reduce((function(t,e){return Math.max(t,s[e.v]+u.edge(e))}),0)}),u.predecessors.bind(u)),l((function(e){var n=u.outEdges(e).reduce((function(t,e){return Math.min(t,s[e.w]-u.edge(e))}),Number.POSITIVE_INFINITY),r=t.node(e);n!==Number.POSITIVE_INFINITY&&r.borderType!==c&&(s[e]=Math.max(s[e],n))}),u.successors.bind(u)),r.forEach(i,(function(t){s[t]=s[n[t]]})),s}function d(t,e){return r.minBy(r.values(e),(function(e){var n=Number.NEGATIVE_INFINITY,o=Number.POSITIVE_INFINITY;return r.forIn(e,(function(e,r){var i=function(t,e){return t.node(e).width}(t,r)/2;n=Math.max(e+i,n),o=Math.min(e-i,o)})),n-o}))}function p(t,e){var n=r.values(e),o=r.min(n),i=r.max(n);r.forEach(["u","d"],(function(n){r.forEach(["l","r"],(function(a){var s,u=n+a,c=t[u];if(c!==e){var l=r.values(c);(s="l"===a?o-r.min(l):i-r.max(l))&&(t[u]=r.mapValues(c,(function(t){return t+s})))}}))}))}function h(t,e){return r.mapValues(t.ul,(function(n,o){if(e)return t[e.toLowerCase()][o];var i=r.sortBy(r.map(t,o));return(i[1]+i[2])/2}))}t.exports={positionX:function(t){var e,n=i.buildLayerMatrix(t),o=r.merge(a(t,n),s(t,n)),u={};r.forEach(["u","d"],(function(i){e="u"===i?n:r.values(n).reverse(),r.forEach(["l","r"],(function(n){"r"===n&&(e=r.map(e,(function(t){return r.values(t).reverse()})));var a=("u"===i?t.predecessors:t.successors).bind(t),s=l(t,e,o,a),c=f(t,e,s.root,s.align,"r"===n);"r"===n&&(c=r.mapValues(c,(function(t){return-t}))),u[i+n]=c}))}));var c=d(t,u);return p(u,c),h(u,t.graph().align)},findType1Conflicts:a,findType2Conflicts:s,addConflict:u,hasConflict:c,verticalAlignment:l,horizontalCompaction:f,alignCoordinates:p,findSmallestWidthAlignment:d,balance:h}},17873:(t,e,n)=>{"use strict";var r=n(38436),o=n(11138),i=n(3573).positionX;t.exports=function(t){(function(t){var e=o.buildLayerMatrix(t),n=t.graph().ranksep,i=0;r.forEach(e,(function(e){var o=r.max(r.map(e,(function(e){return t.node(e).height})));r.forEach(e,(function(e){t.node(e).y=i+o/2})),i+=o+n}))})(t=o.asNonCompoundGraph(t)),r.forEach(i(t),(function(e,n){t.node(n).x=e}))}},20300:(t,e,n)=>{"use strict";var r=n(38436),o=n(70574).Graph,i=n(76681).slack;function a(t,e){return r.forEach(t.nodes(),(function n(o){r.forEach(e.nodeEdges(o),(function(r){var a=r.v,s=o===a?r.w:a;t.hasNode(s)||i(e,r)||(t.setNode(s,{}),t.setEdge(o,s,{}),n(s))}))})),t.nodeCount()}function s(t,e){return r.minBy(e.edges(),(function(n){if(t.hasNode(n.v)!==t.hasNode(n.w))return i(e,n)}))}function u(t,e,n){r.forEach(t.nodes(),(function(t){e.node(t).rank+=n}))}t.exports=function(t){var e,n,r=new o({directed:!1}),c=t.nodes()[0],l=t.nodeCount();r.setNode(c,{});for(;a(r,t)<l;)e=s(r,t),n=r.hasNode(e.v)?i(t,e):-i(t,e),u(r,t,n);return r}},78093:(t,e,n)=>{"use strict";var r=n(76681).longestPath,o=n(20300),i=n(42472);t.exports=function(t){switch(t.graph().ranker){case"network-simplex":default:s(t);break;case"tight-tree":!function(t){r(t),o(t)}(t);break;case"longest-path":a(t)}};var a=r;function s(t){i(t)}},42472:(t,e,n)=>{"use strict";var r=n(38436),o=n(20300),i=n(76681).slack,a=n(76681).longestPath,s=n(70574).alg.preorder,u=n(70574).alg.postorder,c=n(11138).simplify;function l(t){t=c(t),a(t);var e,n=o(t);for(p(n),f(n,t);e=g(n);)y(n,t,e,v(n,t,e))}function f(t,e){var n=u(t,t.nodes());n=n.slice(0,n.length-1),r.forEach(n,(function(n){!function(t,e,n){var r=t.node(n).parent;t.edge(n,r).cutvalue=d(t,e,n)}(t,e,n)}))}function d(t,e,n){var o=t.node(n).parent,i=!0,a=e.edge(n,o),s=0;return a||(i=!1,a=e.edge(o,n)),s=a.weight,r.forEach(e.nodeEdges(n),(function(r){var a,u,c=r.v===n,l=c?r.w:r.v;if(l!==o){var f=c===i,d=e.edge(r).weight;if(s+=f?d:-d,a=n,u=l,t.hasEdge(a,u)){var p=t.edge(n,l).cutvalue;s+=f?-p:p}}})),s}function p(t,e){arguments.length<2&&(e=t.nodes()[0]),h(t,{},1,e)}function h(t,e,n,o,i){var a=n,s=t.node(o);return e[o]=!0,r.forEach(t.neighbors(o),(function(i){r.has(e,i)||(n=h(t,e,n,i,o))})),s.low=a,s.lim=n++,i?s.parent=i:delete s.parent,n}function g(t){return r.find(t.edges(),(function(e){return t.edge(e).cutvalue<0}))}function v(t,e,n){var o=n.v,a=n.w;e.hasEdge(o,a)||(o=n.w,a=n.v);var s=t.node(o),u=t.node(a),c=s,l=!1;s.lim>u.lim&&(c=u,l=!0);var f=r.filter(e.edges(),(function(e){return l===m(t,t.node(e.v),c)&&l!==m(t,t.node(e.w),c)}));return r.minBy(f,(function(t){return i(e,t)}))}function y(t,e,n,o){var i=n.v,a=n.w;t.removeEdge(i,a),t.setEdge(o.v,o.w,{}),p(t),f(t,e),function(t,e){var n=r.find(t.nodes(),(function(t){return!e.node(t).parent})),o=s(t,n);o=o.slice(1),r.forEach(o,(function(n){var r=t.node(n).parent,o=e.edge(n,r),i=!1;o||(o=e.edge(r,n),i=!0),e.node(n).rank=e.node(r).rank+(i?o.minlen:-o.minlen)}))}(t,e)}function m(t,e,n){return n.low<=e.lim&&e.lim<=n.lim}t.exports=l,l.initLowLimValues=p,l.initCutValues=f,l.calcCutValue=d,l.leaveEdge=g,l.enterEdge=v,l.exchangeEdges=y},76681:(t,e,n)=>{"use strict";var r=n(38436);t.exports={longestPath:function(t){var e={};r.forEach(t.sources(),(function n(o){var i=t.node(o);if(r.has(e,o))return i.rank;e[o]=!0;var a=r.min(r.map(t.outEdges(o),(function(e){return n(e.w)-t.edge(e).minlen})));return a!==Number.POSITIVE_INFINITY&&void 0!==a&&null!==a||(a=0),i.rank=a}))},slack:function(t,e){return t.node(e.w).rank-t.node(e.v).rank-t.edge(e).minlen}}},11138:(t,e,n)=>{"use strict";var r=n(25108),o=n(38436),i=n(70574).Graph;function a(t,e,n,r){var i;do{i=o.uniqueId(r)}while(t.hasNode(i));return n.dummy=e,t.setNode(i,n),i}function s(t){return o.max(o.map(t.nodes(),(function(e){var n=t.node(e).rank;if(!o.isUndefined(n))return n})))}t.exports={addDummyNode:a,simplify:function(t){var e=(new i).setGraph(t.graph());return o.forEach(t.nodes(),(function(n){e.setNode(n,t.node(n))})),o.forEach(t.edges(),(function(n){var r=e.edge(n.v,n.w)||{weight:0,minlen:1},o=t.edge(n);e.setEdge(n.v,n.w,{weight:r.weight+o.weight,minlen:Math.max(r.minlen,o.minlen)})})),e},asNonCompoundGraph:function(t){var e=new i({multigraph:t.isMultigraph()}).setGraph(t.graph());return o.forEach(t.nodes(),(function(n){t.children(n).length||e.setNode(n,t.node(n))})),o.forEach(t.edges(),(function(n){e.setEdge(n,t.edge(n))})),e},successorWeights:function(t){var e=o.map(t.nodes(),(function(e){var n={};return o.forEach(t.outEdges(e),(function(e){n[e.w]=(n[e.w]||0)+t.edge(e).weight})),n}));return o.zipObject(t.nodes(),e)},predecessorWeights:function(t){var e=o.map(t.nodes(),(function(e){var n={};return o.forEach(t.inEdges(e),(function(e){n[e.v]=(n[e.v]||0)+t.edge(e).weight})),n}));return o.zipObject(t.nodes(),e)},intersectRect:function(t,e){var n,r,o=t.x,i=t.y,a=e.x-o,s=e.y-i,u=t.width/2,c=t.height/2;if(!a&&!s)throw new Error("Not possible to find intersection inside of the rectangle");Math.abs(s)*u>Math.abs(a)*c?(s<0&&(c=-c),n=c*a/s,r=c):(a<0&&(u=-u),n=u,r=u*s/a);return{x:o+n,y:i+r}},buildLayerMatrix:function(t){var e=o.map(o.range(s(t)+1),(function(){return[]}));return o.forEach(t.nodes(),(function(n){var r=t.node(n),i=r.rank;o.isUndefined(i)||(e[i][r.order]=n)})),e},normalizeRanks:function(t){var e=o.min(o.map(t.nodes(),(function(e){return t.node(e).rank})));o.forEach(t.nodes(),(function(n){var r=t.node(n);o.has(r,"rank")&&(r.rank-=e)}))},removeEmptyRanks:function(t){var e=o.min(o.map(t.nodes(),(function(e){return t.node(e).rank}))),n=[];o.forEach(t.nodes(),(function(r){var o=t.node(r).rank-e;n[o]||(n[o]=[]),n[o].push(r)}));var r=0,i=t.graph().nodeRankFactor;o.forEach(n,(function(e,n){o.isUndefined(e)&&n%i!==0?--r:r&&o.forEach(e,(function(e){t.node(e).rank+=r}))}))},addBorderNode:function(t,e,n,r){var o={width:0,height:0};arguments.length>=4&&(o.rank=n,o.order=r);return a(t,"border",o,e)},maxRank:s,partition:function(t,e){var n={lhs:[],rhs:[]};return o.forEach(t,(function(t){e(t)?n.lhs.push(t):n.rhs.push(t)})),n},time:function(t,e){var n=o.now();try{return e()}finally{r.log(t+" time: "+(o.now()-n)+"ms")}},notime:function(t,e){return e()}}},88177:t=>{t.exports="0.8.5"},28282:(t,e,n)=>{var r=n(82354);t.exports={Graph:r.Graph,json:n(28974),alg:n(12440),version:r.version}},2842:(t,e,n)=>{var r=n(89126);t.exports=function(t){var e,n={},o=[];function i(o){r.has(n,o)||(n[o]=!0,e.push(o),r.each(t.successors(o),i),r.each(t.predecessors(o),i))}return r.each(t.nodes(),(function(t){e=[],i(t),e.length&&o.push(e)})),o}},53984:(t,e,n)=>{var r=n(89126);function o(t,e,n,i,a,s){r.has(i,e)||(i[e]=!0,n||s.push(e),r.each(a(e),(function(e){o(t,e,n,i,a,s)})),n&&s.push(e))}t.exports=function(t,e,n){r.isArray(e)||(e=[e]);var i=(t.isDirected()?t.successors:t.neighbors).bind(t),a=[],s={};return r.each(e,(function(e){if(!t.hasNode(e))throw new Error("Graph does not have node: "+e);o(t,e,"post"===n,s,i,a)})),a}},84847:(t,e,n)=>{var r=n(63763),o=n(89126);t.exports=function(t,e,n){return o.transform(t.nodes(),(function(o,i){o[i]=r(t,i,e,n)}),{})}},63763:(t,e,n)=>{var r=n(89126),o=n(75639);t.exports=function(t,e,n,r){return function(t,e,n,r){var i,a,s={},u=new o,c=function(t){var e=t.v!==i?t.v:t.w,r=s[e],o=n(t),c=a.distance+o;if(o<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+t+" Weight: "+o);c<r.distance&&(r.distance=c,r.predecessor=i,u.decrease(e,c))};t.nodes().forEach((function(t){var n=t===e?0:Number.POSITIVE_INFINITY;s[t]={distance:n},u.add(t,n)}));for(;u.size()>0&&(i=u.removeMin(),(a=s[i]).distance!==Number.POSITIVE_INFINITY);)r(i).forEach(c);return s}(t,String(e),n||i,r||function(e){return t.outEdges(e)})};var i=r.constant(1)},9096:(t,e,n)=>{var r=n(89126),o=n(5023);t.exports=function(t){return r.filter(o(t),(function(e){return e.length>1||1===e.length&&t.hasEdge(e[0],e[0])}))}},38924:(t,e,n)=>{var r=n(89126);t.exports=function(t,e,n){return function(t,e,n){var r={},o=t.nodes();return o.forEach((function(t){r[t]={},r[t][t]={distance:0},o.forEach((function(e){t!==e&&(r[t][e]={distance:Number.POSITIVE_INFINITY})})),n(t).forEach((function(n){var o=n.v===t?n.w:n.v,i=e(n);r[t][o]={distance:i,predecessor:t}}))})),o.forEach((function(t){var e=r[t];o.forEach((function(n){var i=r[n];o.forEach((function(n){var r=i[t],o=e[n],a=i[n],s=r.distance+o.distance;s<a.distance&&(a.distance=s,a.predecessor=o.predecessor)}))}))})),r}(t,e||o,n||function(e){return t.outEdges(e)})};var o=r.constant(1)},12440:(t,e,n)=>{t.exports={components:n(2842),dijkstra:n(63763),dijkstraAll:n(84847),findCycles:n(9096),floydWarshall:n(38924),isAcyclic:n(62707),postorder:n(58828),preorder:n(92648),prim:n(80514),tarjan:n(5023),topsort:n(2166)}},62707:(t,e,n)=>{var r=n(2166);t.exports=function(t){try{r(t)}catch(e){if(e instanceof r.CycleException)return!1;throw e}return!0}},58828:(t,e,n)=>{var r=n(53984);t.exports=function(t,e){return r(t,e,"post")}},92648:(t,e,n)=>{var r=n(53984);t.exports=function(t,e){return r(t,e,"pre")}},80514:(t,e,n)=>{var r=n(89126),o=n(30771),i=n(75639);t.exports=function(t,e){var n,a=new o,s={},u=new i;function c(t){var r=t.v===n?t.w:t.v,o=u.priority(r);if(void 0!==o){var i=e(t);i<o&&(s[r]=n,u.decrease(r,i))}}if(0===t.nodeCount())return a;r.each(t.nodes(),(function(t){u.add(t,Number.POSITIVE_INFINITY),a.setNode(t)})),u.decrease(t.nodes()[0],0);var l=!1;for(;u.size()>0;){if(n=u.removeMin(),r.has(s,n))a.setEdge(n,s[n]);else{if(l)throw new Error("Input graph is not connected: "+t);l=!0}t.nodeEdges(n).forEach(c)}return a}},5023:(t,e,n)=>{var r=n(89126);t.exports=function(t){var e=0,n=[],o={},i=[];function a(s){var u=o[s]={onStack:!0,lowlink:e,index:e++};if(n.push(s),t.successors(s).forEach((function(t){r.has(o,t)?o[t].onStack&&(u.lowlink=Math.min(u.lowlink,o[t].index)):(a(t),u.lowlink=Math.min(u.lowlink,o[t].lowlink))})),u.lowlink===u.index){var c,l=[];do{c=n.pop(),o[c].onStack=!1,l.push(c)}while(s!==c);i.push(l)}}return t.nodes().forEach((function(t){r.has(o,t)||a(t)})),i}},2166:(t,e,n)=>{var r=n(89126);function o(t){var e={},n={},o=[];if(r.each(t.sinks(),(function a(s){if(r.has(n,s))throw new i;r.has(e,s)||(n[s]=!0,e[s]=!0,r.each(t.predecessors(s),a),delete n[s],o.push(s))})),r.size(e)!==t.nodeCount())throw new i;return o}function i(){}t.exports=o,o.CycleException=i,i.prototype=new Error},75639:(t,e,n)=>{var r=n(89126);function o(){this._arr=[],this._keyIndices={}}t.exports=o,o.prototype.size=function(){return this._arr.length},o.prototype.keys=function(){return this._arr.map((function(t){return t.key}))},o.prototype.has=function(t){return r.has(this._keyIndices,t)},o.prototype.priority=function(t){var e=this._keyIndices[t];if(void 0!==e)return this._arr[e].priority},o.prototype.min=function(){if(0===this.size())throw new Error("Queue underflow");return this._arr[0].key},o.prototype.add=function(t,e){var n=this._keyIndices;if(t=String(t),!r.has(n,t)){var o=this._arr,i=o.length;return n[t]=i,o.push({key:t,priority:e}),this._decrease(i),!0}return!1},o.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var t=this._arr.pop();return delete this._keyIndices[t.key],this._heapify(0),t.key},o.prototype.decrease=function(t,e){var n=this._keyIndices[t];if(e>this._arr[n].priority)throw new Error("New priority is greater than current priority. Key: "+t+" Old: "+this._arr[n].priority+" New: "+e);this._arr[n].priority=e,this._decrease(n)},o.prototype._heapify=function(t){var e=this._arr,n=2*t,r=n+1,o=t;n<e.length&&(o=e[n].priority<e[o].priority?n:o,r<e.length&&(o=e[r].priority<e[o].priority?r:o),o!==t&&(this._swap(t,o),this._heapify(o)))},o.prototype._decrease=function(t){for(var e,n=this._arr,r=n[t].priority;0!==t&&!(n[e=t>>1].priority<r);)this._swap(t,e),t=e},o.prototype._swap=function(t,e){var n=this._arr,r=this._keyIndices,o=n[t],i=n[e];n[t]=i,n[e]=o,r[i.key]=t,r[o.key]=e}},30771:(t,e,n)=>{"use strict";var r=n(89126);t.exports=i;var o="\0";function i(t){this._isDirected=!r.has(t,"directed")||t.directed,this._isMultigraph=!!r.has(t,"multigraph")&&t.multigraph,this._isCompound=!!r.has(t,"compound")&&t.compound,this._label=void 0,this._defaultNodeLabelFn=r.constant(void 0),this._defaultEdgeLabelFn=r.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children["\0"]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function a(t,e){t[e]?t[e]++:t[e]=1}function s(t,e){--t[e]||delete t[e]}function u(t,e,n,o){var i=""+e,a=""+n;if(!t&&i>a){var s=i;i=a,a=s}return i+"\x01"+a+"\x01"+(r.isUndefined(o)?"\0":o)}function c(t,e,n,r){var o=""+e,i=""+n;if(!t&&o>i){var a=o;o=i,i=a}var s={v:o,w:i};return r&&(s.name=r),s}function l(t,e){return u(t,e.v,e.w,e.name)}i.prototype._nodeCount=0,i.prototype._edgeCount=0,i.prototype.isDirected=function(){return this._isDirected},i.prototype.isMultigraph=function(){return this._isMultigraph},i.prototype.isCompound=function(){return this._isCompound},i.prototype.setGraph=function(t){return this._label=t,this},i.prototype.graph=function(){return this._label},i.prototype.setDefaultNodeLabel=function(t){return r.isFunction(t)||(t=r.constant(t)),this._defaultNodeLabelFn=t,this},i.prototype.nodeCount=function(){return this._nodeCount},i.prototype.nodes=function(){return r.keys(this._nodes)},i.prototype.sources=function(){var t=this;return r.filter(this.nodes(),(function(e){return r.isEmpty(t._in[e])}))},i.prototype.sinks=function(){var t=this;return r.filter(this.nodes(),(function(e){return r.isEmpty(t._out[e])}))},i.prototype.setNodes=function(t,e){var n=arguments,o=this;return r.each(t,(function(t){n.length>1?o.setNode(t,e):o.setNode(t)})),this},i.prototype.setNode=function(t,e){return r.has(this._nodes,t)?(arguments.length>1&&(this._nodes[t]=e),this):(this._nodes[t]=arguments.length>1?e:this._defaultNodeLabelFn(t),this._isCompound&&(this._parent[t]=o,this._children[t]={},this._children["\0"][t]=!0),this._in[t]={},this._preds[t]={},this._out[t]={},this._sucs[t]={},++this._nodeCount,this)},i.prototype.node=function(t){return this._nodes[t]},i.prototype.hasNode=function(t){return r.has(this._nodes,t)},i.prototype.removeNode=function(t){var e=this;if(r.has(this._nodes,t)){var n=function(t){e.removeEdge(e._edgeObjs[t])};delete this._nodes[t],this._isCompound&&(this._removeFromParentsChildList(t),delete this._parent[t],r.each(this.children(t),(function(t){e.setParent(t)})),delete this._children[t]),r.each(r.keys(this._in[t]),n),delete this._in[t],delete this._preds[t],r.each(r.keys(this._out[t]),n),delete this._out[t],delete this._sucs[t],--this._nodeCount}return this},i.prototype.setParent=function(t,e){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(r.isUndefined(e))e=o;else{for(var n=e+="";!r.isUndefined(n);n=this.parent(n))if(n===t)throw new Error("Setting "+e+" as parent of "+t+" would create a cycle");this.setNode(e)}return this.setNode(t),this._removeFromParentsChildList(t),this._parent[t]=e,this._children[e][t]=!0,this},i.prototype._removeFromParentsChildList=function(t){delete this._children[this._parent[t]][t]},i.prototype.parent=function(t){if(this._isCompound){var e=this._parent[t];if(e!==o)return e}},i.prototype.children=function(t){if(r.isUndefined(t)&&(t=o),this._isCompound){var e=this._children[t];if(e)return r.keys(e)}else{if(t===o)return this.nodes();if(this.hasNode(t))return[]}},i.prototype.predecessors=function(t){var e=this._preds[t];if(e)return r.keys(e)},i.prototype.successors=function(t){var e=this._sucs[t];if(e)return r.keys(e)},i.prototype.neighbors=function(t){var e=this.predecessors(t);if(e)return r.union(e,this.successors(t))},i.prototype.isLeaf=function(t){return 0===(this.isDirected()?this.successors(t):this.neighbors(t)).length},i.prototype.filterNodes=function(t){var e=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});e.setGraph(this.graph());var n=this;r.each(this._nodes,(function(n,r){t(r)&&e.setNode(r,n)})),r.each(this._edgeObjs,(function(t){e.hasNode(t.v)&&e.hasNode(t.w)&&e.setEdge(t,n.edge(t))}));var o={};function i(t){var r=n.parent(t);return void 0===r||e.hasNode(r)?(o[t]=r,r):r in o?o[r]:i(r)}return this._isCompound&&r.each(e.nodes(),(function(t){e.setParent(t,i(t))})),e},i.prototype.setDefaultEdgeLabel=function(t){return r.isFunction(t)||(t=r.constant(t)),this._defaultEdgeLabelFn=t,this},i.prototype.edgeCount=function(){return this._edgeCount},i.prototype.edges=function(){return r.values(this._edgeObjs)},i.prototype.setPath=function(t,e){var n=this,o=arguments;return r.reduce(t,(function(t,r){return o.length>1?n.setEdge(t,r,e):n.setEdge(t,r),r})),this},i.prototype.setEdge=function(){var t,e,n,o,i=!1,s=arguments[0];"object"===typeof s&&null!==s&&"v"in s?(t=s.v,e=s.w,n=s.name,2===arguments.length&&(o=arguments[1],i=!0)):(t=s,e=arguments[1],n=arguments[3],arguments.length>2&&(o=arguments[2],i=!0)),t=""+t,e=""+e,r.isUndefined(n)||(n=""+n);var l=u(this._isDirected,t,e,n);if(r.has(this._edgeLabels,l))return i&&(this._edgeLabels[l]=o),this;if(!r.isUndefined(n)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(t),this.setNode(e),this._edgeLabels[l]=i?o:this._defaultEdgeLabelFn(t,e,n);var f=c(this._isDirected,t,e,n);return t=f.v,e=f.w,Object.freeze(f),this._edgeObjs[l]=f,a(this._preds[e],t),a(this._sucs[t],e),this._in[e][l]=f,this._out[t][l]=f,this._edgeCount++,this},i.prototype.edge=function(t,e,n){var r=1===arguments.length?l(this._isDirected,arguments[0]):u(this._isDirected,t,e,n);return this._edgeLabels[r]},i.prototype.hasEdge=function(t,e,n){var o=1===arguments.length?l(this._isDirected,arguments[0]):u(this._isDirected,t,e,n);return r.has(this._edgeLabels,o)},i.prototype.removeEdge=function(t,e,n){var r=1===arguments.length?l(this._isDirected,arguments[0]):u(this._isDirected,t,e,n),o=this._edgeObjs[r];return o&&(t=o.v,e=o.w,delete this._edgeLabels[r],delete this._edgeObjs[r],s(this._preds[e],t),s(this._sucs[t],e),delete this._in[e][r],delete this._out[t][r],this._edgeCount--),this},i.prototype.inEdges=function(t,e){var n=this._in[t];if(n){var o=r.values(n);return e?r.filter(o,(function(t){return t.v===e})):o}},i.prototype.outEdges=function(t,e){var n=this._out[t];if(n){var o=r.values(n);return e?r.filter(o,(function(t){return t.w===e})):o}},i.prototype.nodeEdges=function(t,e){var n=this.inEdges(t,e);if(n)return n.concat(this.outEdges(t,e))}},82354:(t,e,n)=>{t.exports={Graph:n(30771),version:n(49631)}},28974:(t,e,n)=>{var r=n(89126),o=n(30771);function i(t){return r.map(t.nodes(),(function(e){var n=t.node(e),o=t.parent(e),i={v:e};return r.isUndefined(n)||(i.value=n),r.isUndefined(o)||(i.parent=o),i}))}function a(t){return r.map(t.edges(),(function(e){var n=t.edge(e),o={v:e.v,w:e.w};return r.isUndefined(e.name)||(o.name=e.name),r.isUndefined(n)||(o.value=n),o}))}t.exports={write:function(t){var e={options:{directed:t.isDirected(),multigraph:t.isMultigraph(),compound:t.isCompound()},nodes:i(t),edges:a(t)};r.isUndefined(t.graph())||(e.value=r.clone(t.graph()));return e},read:function(t){var e=new o(t.options).setGraph(t.value);return r.each(t.nodes,(function(t){e.setNode(t.v,t.value),t.parent&&e.setParent(t.v,t.parent)})),r.each(t.edges,(function(t){e.setEdge({v:t.v,w:t.w,name:t.name},t.value)})),e}}},89126:(t,e,n)=>{var r;try{r={clone:n(66678),constant:n(75703),each:n(66073),filter:n(63105),has:n(18721),isArray:n(1469),isEmpty:n(41609),isFunction:n(23560),isUndefined:n(52353),keys:n(3674),map:n(35161),reduce:n(54061),size:n(84238),transform:n(68718),union:n(93386),values:n(52628)}}catch(o){}r||(r=window._),t.exports=r},49631:t=>{t.exports="2.1.8"},47443:(t,e,n)=>{var r=n(42118);t.exports=function(t,e){return!!(null==t?0:t.length)&&r(t,e,0)>-1}},1196:t=>{t.exports=function(t,e,n){for(var r=-1,o=null==t?0:t.length;++r<o;)if(n(e,t[r]))return!0;return!1}},48983:(t,e,n)=>{var r=n(40371)("length");t.exports=r},89881:(t,e,n)=>{var r=n(47816),o=n(99291)(r);t.exports=o},56029:(t,e,n)=>{var r=n(33448);t.exports=function(t,e,n){for(var o=-1,i=t.length;++o<i;){var a=t[o],s=e(a);if(null!=s&&(void 0===u?s===s&&!r(s):n(s,u)))var u=s,c=a}return c}},80760:(t,e,n)=>{var r=n(89881);t.exports=function(t,e){var n=[];return r(t,(function(t,r,o){e(t,r,o)&&n.push(t)})),n}},41848:t=>{t.exports=function(t,e,n,r){for(var o=t.length,i=n+(r?1:-1);r?i--:++i<o;)if(e(t[i],i,t))return i;return-1}},53325:t=>{t.exports=function(t,e){return t>e}},42118:(t,e,n)=>{var r=n(41848),o=n(62722),i=n(42351);t.exports=function(t,e,n){return e===e?i(t,e,n):r(t,o,n)}},62722:t=>{t.exports=function(t){return t!==t}},70433:t=>{t.exports=function(t,e){return t<e}},69199:(t,e,n)=>{var r=n(89881),o=n(98612);t.exports=function(t,e){var n=-1,i=o(t)?Array(t.length):[];return r(t,(function(t,r,o){i[++n]=e(t,r,o)})),i}},82689:(t,e,n)=>{var r=n(29932),o=n(97786),i=n(67206),a=n(69199),s=n(71131),u=n(7518),c=n(85022),l=n(6557),f=n(1469);t.exports=function(t,e,n){e=e.length?r(e,(function(t){return f(t)?function(e){return o(e,1===t.length?t[0]:t)}:t})):[l];var d=-1;e=r(e,u(i));var p=a(t,(function(t,n,o){return{criteria:r(e,(function(e){return e(t)})),index:++d,value:t}}));return s(p,(function(t,e){return c(t,e,n)}))}},25970:(t,e,n)=>{var r=n(63012),o=n(79095);t.exports=function(t,e){return r(t,e,(function(e,n){return o(t,n)}))}},63012:(t,e,n)=>{var r=n(97786),o=n(10611),i=n(71811);t.exports=function(t,e,n){for(var a=-1,s=e.length,u={};++a<s;){var c=e[a],l=r(t,c);n(l,c)&&o(u,i(c,t),l)}return u}},40098:t=>{var e=Math.ceil,n=Math.max;t.exports=function(t,r,o,i){for(var a=-1,s=n(e((r-t)/(o||1)),0),u=Array(s);s--;)u[i?s:++a]=t,t+=o;return u}},10107:t=>{t.exports=function(t,e,n,r,o){return o(t,(function(t,o,i){n=r?(r=!1,t):e(n,t,o,i)})),n}},71131:t=>{t.exports=function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}},45652:(t,e,n)=>{var r=n(88668),o=n(47443),i=n(1196),a=n(74757),s=n(23593),u=n(21814);t.exports=function(t,e,n){var c=-1,l=o,f=t.length,d=!0,p=[],h=p;if(n)d=!1,l=i;else if(f>=200){var g=e?null:s(t);if(g)return u(g);d=!1,l=a,h=new r}else h=e?[]:p;t:for(;++c<f;){var v=t[c],y=e?e(v):v;if(v=n||0!==v?v:0,d&&y===y){for(var m=h.length;m--;)if(h[m]===y)continue t;e&&h.push(y),p.push(v)}else l(h,y,n)||(h!==p&&h.push(y),p.push(v))}return p}},47415:(t,e,n)=>{var r=n(29932);t.exports=function(t,e){return r(e,(function(e){return t[e]}))}},1757:t=>{t.exports=function(t,e,n){for(var r=-1,o=t.length,i=e.length,a={};++r<o;){var s=r<i?e[r]:void 0;n(a,t[r],s)}return a}},54290:(t,e,n)=>{var r=n(6557);t.exports=function(t){return"function"==typeof t?t:r}},26393:(t,e,n)=>{var r=n(33448);t.exports=function(t,e){if(t!==e){var n=void 0!==t,o=null===t,i=t===t,a=r(t),s=void 0!==e,u=null===e,c=e===e,l=r(e);if(!u&&!l&&!a&&t>e||a&&s&&c&&!u&&!l||o&&s&&c||!n&&c||!i)return 1;if(!o&&!a&&!l&&t<e||l&&n&&i&&!o&&!a||u&&n&&i||!s&&i||!c)return-1}return 0}},85022:(t,e,n)=>{var r=n(26393);t.exports=function(t,e,n){for(var o=-1,i=t.criteria,a=e.criteria,s=i.length,u=n.length;++o<s;){var c=r(i[o],a[o]);if(c)return o>=u?c:c*("desc"==n[o]?-1:1)}return t.index-e.index}},99291:(t,e,n)=>{var r=n(98612);t.exports=function(t,e){return function(n,o){if(null==n)return n;if(!r(n))return t(n,o);for(var i=n.length,a=e?i:-1,s=Object(n);(e?a--:++a<i)&&!1!==o(s[a],a,s););return n}}},67740:(t,e,n)=>{var r=n(67206),o=n(98612),i=n(3674);t.exports=function(t){return function(e,n,a){var s=Object(e);if(!o(e)){var u=r(n,3);e=i(e),n=function(t){return u(s[t],t,s)}}var c=t(e,n,a);return c>-1?s[u?e[c]:c]:void 0}}},47445:(t,e,n)=>{var r=n(40098),o=n(16612),i=n(18601);t.exports=function(t){return function(e,n,a){return a&&"number"!=typeof a&&o(e,n,a)&&(n=a=void 0),e=i(e),void 0===n?(n=e,e=0):n=i(n),a=void 0===a?e<n?1:-1:i(a),r(e,n,a,t)}}},23593:(t,e,n)=>{var r=n(58525),o=n(50308),i=n(21814),a=r&&1/i(new r([,-0]))[1]==1/0?function(t){return new r(t)}:o;t.exports=a},42351:t=>{t.exports=function(t,e,n){for(var r=n-1,o=t.length;++r<o;)if(t[r]===e)return r;return-1}},88016:(t,e,n)=>{var r=n(48983),o=n(62689),i=n(21903);t.exports=function(t){return o(t)?i(t):r(t)}},21903:t=>{var e="[\\ud800-\\udfff]",n="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",r="\\ud83c[\\udffb-\\udfff]",o="[^\\ud800-\\udfff]",i="(?:\\ud83c[\\udde6-\\uddff]){2}",a="[\\ud800-\\udbff][\\udc00-\\udfff]",s="(?:"+n+"|"+r+")"+"?",u="[\\ufe0e\\ufe0f]?",c=u+s+("(?:\\u200d(?:"+[o,i,a].join("|")+")"+u+s+")*"),l="(?:"+[o+n+"?",n,i,a,e].join("|")+")",f=RegExp(r+"(?="+r+")|"+l+c,"g");t.exports=function(t){for(var e=f.lastIndex=0;f.test(t);)++e;return e}},91747:(t,e,n)=>{var r=n(5976),o=n(77813),i=n(16612),a=n(81704),s=Object.prototype,u=s.hasOwnProperty,c=r((function(t,e){t=Object(t);var n=-1,r=e.length,c=r>2?e[2]:void 0;for(c&&i(e[0],e[1],c)&&(r=1);++n<r;)for(var l=e[n],f=a(l),d=-1,p=f.length;++d<p;){var h=f[d],g=t[h];(void 0===g||o(g,s[h])&&!u.call(t,h))&&(t[h]=l[h])}return t}));t.exports=c},66073:(t,e,n)=>{t.exports=n(84486)},63105:(t,e,n)=>{var r=n(34963),o=n(80760),i=n(67206),a=n(1469);t.exports=function(t,e){return(a(t)?r:o)(t,i(e,3))}},13311:(t,e,n)=>{var r=n(67740)(n(30998));t.exports=r},30998:(t,e,n)=>{var r=n(41848),o=n(67206),i=n(40554),a=Math.max;t.exports=function(t,e,n){var s=null==t?0:t.length;if(!s)return-1;var u=null==n?0:i(n);return u<0&&(u=a(s+u,0)),r(t,o(e,3),u)}},84486:(t,e,n)=>{var r=n(77412),o=n(89881),i=n(54290),a=n(1469);t.exports=function(t,e){return(a(t)?r:o)(t,i(e))}},62620:(t,e,n)=>{var r=n(28483),o=n(54290),i=n(81704);t.exports=function(t,e){return null==t?t:r(t,o(e),i)}},41609:(t,e,n)=>{var r=n(280),o=n(64160),i=n(35694),a=n(1469),s=n(98612),u=n(44144),c=n(25726),l=n(36719),f=Object.prototype.hasOwnProperty;t.exports=function(t){if(null==t)return!0;if(s(t)&&(a(t)||"string"==typeof t||"function"==typeof t.splice||u(t)||l(t)||i(t)))return!t.length;var e=o(t);if("[object Map]"==e||"[object Set]"==e)return!t.size;if(c(t))return!r(t).length;for(var n in t)if(f.call(t,n))return!1;return!0}},47037:(t,e,n)=>{var r=n(44239),o=n(1469),i=n(37005);t.exports=function(t){return"string"==typeof t||!o(t)&&i(t)&&"[object String]"==r(t)}},52353:t=>{t.exports=function(t){return void 0===t}},35161:(t,e,n)=>{var r=n(29932),o=n(67206),i=n(69199),a=n(1469);t.exports=function(t,e){return(a(t)?r:i)(t,o(e,3))}},6162:(t,e,n)=>{var r=n(56029),o=n(53325),i=n(6557);t.exports=function(t){return t&&t.length?r(t,i,o):void 0}},53632:(t,e,n)=>{var r=n(56029),o=n(70433),i=n(6557);t.exports=function(t){return t&&t.length?r(t,i,o):void 0}},22762:(t,e,n)=>{var r=n(56029),o=n(67206),i=n(70433);t.exports=function(t,e){return t&&t.length?r(t,o(e,2),i):void 0}},50308:t=>{t.exports=function(){}},7771:(t,e,n)=>{var r=n(78638);t.exports=function(){return r.Date.now()}},78718:(t,e,n)=>{var r=n(25970),o=n(99021)((function(t,e){return null==t?{}:r(t,e)}));t.exports=o},96026:(t,e,n)=>{var r=n(47445)();t.exports=r},54061:(t,e,n)=>{var r=n(62663),o=n(89881),i=n(67206),a=n(10107),s=n(1469);t.exports=function(t,e,n){var u=s(t)?r:a,c=arguments.length<3;return u(t,i(e,4),n,c,o)}},84238:(t,e,n)=>{var r=n(280),o=n(64160),i=n(98612),a=n(47037),s=n(88016);t.exports=function(t){if(null==t)return 0;if(i(t))return a(t)?s(t):t.length;var e=o(t);return"[object Map]"==e||"[object Set]"==e?t.size:r(t).length}},89734:(t,e,n)=>{var r=n(21078),o=n(82689),i=n(5976),a=n(16612),s=i((function(t,e){if(null==t)return[];var n=e.length;return n>1&&a(t,e[0],e[1])?e=[]:n>2&&a(e[0],e[1],e[2])&&(e=[e[0]]),o(t,r(e,1),[])}));t.exports=s},93386:(t,e,n)=>{var r=n(21078),o=n(5976),i=n(45652),a=n(29246),s=o((function(t){return i(r(t,1,a,!0))}));t.exports=s},73955:(t,e,n)=>{var r=n(79833),o=0;t.exports=function(t){var e=++o;return r(t)+e}},52628:(t,e,n)=>{var r=n(47415),o=n(3674);t.exports=function(t){return null==t?[]:r(t,o(t))}},7287:(t,e,n)=>{var r=n(34865),o=n(1757);t.exports=function(t,e){return o(t||[],e||[],r)}},53164:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>y});var r=n(93379),o=n.n(r),i=n(7795),a=n.n(i),s=n(90569),u=n.n(s),c=n(3565),l=n.n(c),f=n(19216),d=n.n(f),p=n(44589),h=n.n(p),g=n(44840),v={};v.styleTagTransform=h(),v.setAttributes=l(),v.insert=u().bind(null,"head"),v.domAPI=a(),v.insertStyleElement=d();o()(g.Z,v);const y=g.Z&&g.Z.locals?g.Z.locals:void 0},40457:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>y});var r=n(93379),o=n.n(r),i=n(7795),a=n.n(i),s=n(90569),u=n.n(s),c=n(3565),l=n.n(c),f=n(19216),d=n.n(f),p=n(44589),h=n.n(p),g=n(45473),v={};v.styleTagTransform=h(),v.setAttributes=l(),v.insert=u().bind(null,"head"),v.domAPI=a(),v.insertStyleElement=d();o()(g.Z,v);const y=g.Z&&g.Z.locals?g.Z.locals:void 0},93379:t=>{"use strict";var e=[];function n(t){for(var n=-1,r=0;r<e.length;r++)if(e[r].identifier===t){n=r;break}return n}function r(t,r){for(var i={},a=[],s=0;s<t.length;s++){var u=t[s],c=r.base?u[0]+r.base:u[0],l=i[c]||0,f="".concat(c," ").concat(l);i[c]=l+1;var d=n(f),p={css:u[1],media:u[2],sourceMap:u[3],supports:u[4],layer:u[5]};if(-1!==d)e[d].references++,e[d].updater(p);else{var h=o(p,r);r.byIndex=s,e.splice(s,0,{identifier:f,updater:h,references:1})}a.push(f)}return a}function o(t,e){var n=e.domAPI(e);n.update(t);return function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;n.update(t=e)}else n.remove()}}t.exports=function(t,o){var i=r(t=t||[],o=o||{});return function(t){t=t||[];for(var a=0;a<i.length;a++){var s=n(i[a]);e[s].references--}for(var u=r(t,o),c=0;c<i.length;c++){var l=n(i[c]);0===e[l].references&&(e[l].updater(),e.splice(l,1))}i=u}}},90569:t=>{"use strict";var e={};t.exports=function(t,n){var r=function(t){if("undefined"===typeof e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(r){n=null}e[t]=n}return e[t]}(t);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},19216:t=>{"use strict";t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},3565:(t,e,n)=>{"use strict";t.exports=function(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},7795:t=>{"use strict";t.exports=function(t){var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var o="undefined"!==typeof n.layer;o&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,o&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var i=n.sourceMap;i&&"undefined"!==typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleTagTransform(r,t,e.options)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},44589:t=>{"use strict";t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}}}]);